{"version":3,"file":"ionic-fix-module.js","sources":["../../../src/ionic-fix/back-button-fix.ts","../../../src/ionic-fix/input-fix.ts","../../../src/ionic-fix/item-target.ts","../../../src/ionic-fix/index.ts","../../../src/ionic-fix/ionic-fix-module.ts"],"sourcesContent":["import {Directive, ElementRef, HostListener, Input, Optional} from \"@angular/core\";\nimport {Router} from \"@angular/router\";\nimport {IonRouterOutlet, NavController, IonBackButtonDelegate} from \"@ionic/angular\";\n\nIonBackButtonDelegate.prototype.onClick = () => null;\n\n@Directive({\n    selector: \"ion-back-button\"\n})\nexport class IonicBackButtonFix {\n\n    constructor(private router: Router, @Optional() private routerOutlet: IonRouterOutlet, private navCtrl: NavController, private elementRef: ElementRef) {\n    }\n\n    @Input()\n    set defaultHref(value: string) {\n        this.elementRef.nativeElement.defaultHref = value;\n    }\n    get defaultHref() {\n        return this.elementRef.nativeElement.defaultHref;\n    }\n\n    @HostListener(\"click\", [\"$event\"])\n    onClick(ev: Event) {\n\n        if (this.routerOutlet && this.routerOutlet.canGoBack()) {\n            this.navCtrl.back({animated: true});\n            ev.preventDefault();\n            \n        } else if (this.router && this.defaultHref != null) {\n            this.navCtrl.navigateBack(this.defaultHref);\n            ev.preventDefault();\n        }\n    }\n}\n","import {Directive, ElementRef, Input} from \"@angular/core\";\nimport {waitTill} from \"@co.mmons/js-utils/core\";\n\n@Directive({\n    selector: \"ion-input[ionfix-input]\"\n})\nexport class IonicInputFix {\n\n    constructor(private element: ElementRef<HTMLIonInputElement>) {\n    }\n\n    @Input(\"tabIndex\")\n    tabIndex: string;\n\n    async ngAfterViewInit() {\n\n        if (this.tabIndex) {\n            this.element.nativeElement.removeAttribute(\"tabIndex\");\n\n            await waitTill(() => !!this.element.nativeElement.shadowRoot && !!this.element.nativeElement.shadowRoot.querySelector(\".native-input\"));\n\n            let realInput = this.element.nativeElement.shadowRoot.querySelector(\".native-input\");\n            realInput.setAttribute(\"tabIndex\", this.tabIndex);\n        }\n    }\n}","import {Directive, ElementRef, Input} from \"@angular/core\";\nimport {sleep} from \"@co.mmons/js-utils/core\";\n\n@Directive({\n    selector: \"ion-item[target]\"\n})\nexport class IonicItemTargetFix {\n\n    constructor(private element: ElementRef<HTMLElement>) {\n    }\n\n    @Input()\n    target: string;\n\n    async ngAfterViewInit() {\n\n        if (this.target) {\n\n            for (let i = 1; i < 20; i++) {\n\n                const a = (this.element.nativeElement.shadowRoot && this.element.nativeElement.shadowRoot.querySelector(\".item-native\")) || undefined;\n\n                if (!a) {\n                    await sleep(i * 100);\n                } else {\n                    a.setAttribute(\"target\", this.target);\n                }\n            }\n        }\n    }\n}\n","import {NgModule} from \"@angular/core\";\nimport {IonicBackButtonFix} from \"./back-button-fix\";\nimport {IonicInputFix} from \"./input-fix\";\nimport {IonicItemTargetFix} from \"./item-target\";\n\n@NgModule({\n    declarations: [IonicInputFix, IonicBackButtonFix, IonicItemTargetFix],\n    exports: [IonicInputFix, IonicBackButtonFix, IonicItemTargetFix]\n})\nexport class IonicFixModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {IonicBackButtonFix as ɵb} from './back-button-fix';\nexport {IonicInputFix as ɵa} from './input-fix';\nexport {IonicItemTargetFix as ɵc} from './item-target';"],"names":[],"mappings":"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"}