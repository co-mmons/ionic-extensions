!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@ionic/angular"),require("@angular/cdk/scrolling"),require("@angular/common"),require("@angular/forms"),require("@co.mmons/angular-intl"),require("@co.mmons/js-utils/core"),require("@angular/platform-browser"),require("@co.mmons/rxjs-utils"),require("@co.mmons/angular-extensions/browser/match-media"),require("@angular/router")):"function"==typeof define&&define.amd?define("@co.mmons/ionic-extensions",["exports","@angular/core","@ionic/angular","@angular/cdk/scrolling","@angular/common","@angular/forms","@co.mmons/angular-intl","@co.mmons/js-utils/core","@angular/platform-browser","@co.mmons/rxjs-utils","@co.mmons/angular-extensions/browser/match-media","@angular/router"],t):t(((e=e||self).co=e.co||{},e.co.mmons=e.co.mmons||{},e.co.mmons["ionic-extensions"]={}),e.ng.core,e.angular,e.ng.cdk.scrolling,e.ng.common,e.ng.forms,e.angularIntl,e.core$1,e.ng.platformBrowser,e.rxjsUtils,e.matchMedia,e.ng.router)}(this,function(e,t,n,i,o,r,a,s,l,p,c,d){"use strict";var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function h(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}function m(e,t){return function(n,i){t(n,i,e)}}function g(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,i){return new(n||(n=Promise))(function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((i=i.apply(e,t||[])).next())})}function y(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}function v(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}var b,x=function(){function e(){}return e=h([t.Component({selector:"ionx-buttons",template:"<ng-content></ng-content>",styles:["\n        :host {\n            display: flex;\n            align-items: center;\n            transform: translateZ(0);\n        }\n        \n        :host-context(ion-toolbar) ::ng-deep ion-button {\n            height: 32px;\n            --padding-top: 0;\n            --padding-bottom: 0;\n            margin: 0px;\n        }\n        \n        :host-context(ion-toolbar) ::ng-deep ion-button.button-clear {\n            --padding-start: 8px;\n            --padding-end: 8px;\n            margin: 0px 8px;\n        }\n        \n        :host-context(ion-toolbar) ::ng-deep ion-button.button-clear + ion-button.button-clear {\n            margin-left: 0px;\n        }\n        \n        :host-context(.ios ion-toolbar) ::ng-deep ion-button {\n            font-weight: 400;\n        }\n    "]}),g("design:paramtypes",[])],e)}(),C=function(){function e(){}return e=h([t.NgModule({declarations:[x],exports:[x]})],e)}(),w=function(){function e(e,t){this.templateRef=e,this.viewContainer=t,this.separator=", "}return h([t.Input(),g("design:type",String)],e.prototype,"separator",void 0),e=h([t.Directive({selector:"[ionxSelectLabel]"}),g("design:paramtypes",[t.TemplateRef,t.ViewContainerRef])],e)}(),A=function(){function e(e){this.element=e}return Object.defineProperty(e.prototype,"label",{get:function(){return this.element.nativeElement.innerText},enumerable:!0,configurable:!0}),h([t.Input(),g("design:type",Object)],e.prototype,"value",void 0),h([t.Input(),g("design:type",Boolean)],e.prototype,"divider",void 0),e=h([t.Component({selector:"ionx-select-option",changeDetection:t.ChangeDetectionStrategy.OnPush,template:"<ng-content></ng-content>"}),g("design:paramtypes",[t.ElementRef])],e)}(),I=function(e){function t(){var n=e.call(this)||this;return Object.setPrototypeOf(n,t.prototype),n}return function(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.pushOption=function(e,t,n){this.push({value:e,label:t,disabled:n})},t.prototype.pushDivider=function(e){this.push({divider:!0,label:e})},t}(Array),k=function(){function e(e,t,n,i){this.element=e,this.intl=t,this.popoverController=n,this.modalController=i,this.multiple=!1,this.whiteSpace="nowrap"}return Object.defineProperty(e.prototype,"popoverOverlay",{get:function(){return"popover"==this.overlay},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modalOverlay",{get:function(){return"modal"==this.overlay},enumerable:!0,configurable:!0}),e.prototype.optionDivider=function(e,t,n){for(var i=0;i<this.options.length;i++)if(this.options[i]===e&&i>0&&this.options[i-1].divider)return this.options[i-1]},e.prototype.optionClicked=function(e,t){e.checked&&!this.empty&&1===this.checkedOptions.length&&this.checkedOptions[0]===e&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())},e.prototype.optionBeforeChange=function(e){this.lastClickedOption=e,e.checkedTimestamp=Date.now()},e.prototype.optionChanged=function(e){var t,n,i,o,r,a,s,l,p,c;if(this.lastClickedOption&&e===this.lastClickedOption){if(this.multiple&&this.valueValidator){var d=[];try{for(var u=v(this.checkedOptions),h=u.next();!h.done;h=u.next()){(A=h.value)!==e&&d.push(A.value)}}catch(e){t={error:e}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}var m=e.checked;try{for(var g=v(this.options),f=g.next();!f.done;f=g.next()){(A=f.value).checked=!1}}catch(e){i={error:e}}finally{try{f&&!f.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}this.checkedOptions=[];try{e:for(var y=v(this.valueValidator(e.value,m,d)||[]),b=y.next();!b.done;b=y.next()){var x=b.value;try{for(var C=v(this.options),w=C.next();!w.done;w=C.next()){var A=w.value;if(this.valueComparator(A.value,x)){A.checked=!0,this.checkedOptions.push(A);continue e}}}catch(e){s={error:e}}finally{try{w&&!w.done&&(l=C.return)&&l.call(C)}finally{if(s)throw s.error}}}}catch(e){r={error:e}}finally{try{b&&!b.done&&(a=y.return)&&a.call(y)}finally{if(r)throw r.error}}}else if(e.checked)if(this.multiple)this.checkedOptions.push(e);else{try{for(var I=v(this.options),k=I.next();!k.done;k=I.next()){(A=k.value).checked&&A!==e&&(A.checked=!1)}}catch(e){p={error:e}}finally{try{k&&!k.done&&(c=I.return)&&c.call(I)}finally{if(p)throw p.error}}this.checkedOptions=[e]}else for(var _=0;_<this.checkedOptions.length;_++)if(this.checkedOptions[_]===e){this.checkedOptions.splice(_,1);break}this.multiple||this.okClicked(),this.lastClickedOption=void 0}},e.prototype.buildVisibleOptions=function(){for(var e,t,n=0;n<this.options.length;n++)if(this.options[n].divider&&(this.options[n].hidden=!0,this.options.length-1>n))for(var i=n+1;i<this.options.length&&!this.options[i].divider;i++)if(!this.options[i].hidden){this.options[n].hidden=!1;break}this.visibleOptions=[];try{for(var o=v(this.options),r=o.next();!r.done;r=o.next()){var a=r.value;a.hidden||this.visibleOptions.push(a)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}},e.prototype.initOptions=function(){return f(this,void 0,void 0,function(){var e,t,n,i,o,r,a,l=this;return y(this,function(p){switch(p.label){case 0:this.checkedOptions=[];try{for(n=v(this.options),i=n.next();!i.done;i=n.next())(o=i.value).checked&&this.checkedOptions.push(o)}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return this.orderable&&this.checkedOptions.sort(function(e,t){return e.checkedTimestamp-t.checkedTimestamp}),this.buildVisibleOptions(),this.checkedOptions.length>0&&this.modalOverlay?[4,s.waitTill(function(){return!!l.scroll})]:[3,2];case 1:for(p.sent(),r=-1,a=0;a<this.visibleOptions.length;a++)if(this.visibleOptions[a].checked){r=a;break}this.scroll.scrollToIndex(r),p.label=2;case 2:return[2]}})})},e.prototype.okClicked=function(){var e,t,n,i,o,r,a=[];if(this.orderable)try{for(var s=v(this.checkedOptions),l=s.next();!l.done;l=s.next()){var p=l.value;a.push(p.value)}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else try{e:for(var c=v(this.options),d=c.next();!d.done;d=c.next()){var u=d.value;try{for(var h=v(this.checkedOptions),m=h.next();!m.done;m=h.next()){var g=m.value;if(u===g){a.push(g.value);continue e}}}catch(e){o={error:e}}finally{try{m&&!m.done&&(r=h.return)&&r.call(h)}finally{if(o)throw o.error}}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}this.updateValues(a),this.popoverController&&this.popoverOverlay?this.popoverController.dismiss():this.modalController&&this.modalOverlay&&this.modalController.dismiss()},e.prototype.cancelClicked=function(){this.popoverController&&this.popoverOverlay?this.popoverController.dismiss():this.modalController&&this.modalOverlay&&this.modalController.dismiss()},e.prototype.search=function(e){var t,n,i=this.searchbar.nativeElement.value?this.searchbar.nativeElement.value.toString():void 0;i&&(i=i.trim().toLowerCase());try{for(var o=v(this.options),r=o.next();!r.done;r=o.next()){var a=r.value;a.hidden=!!i&&(this.searchHandler?!this.searchHandler(i,a.value,a.label):(a.label||"").toLowerCase().indexOf(i)<0)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}this.buildVisibleOptions()},e.prototype.ngOnInit=function(){this.popoverOverlay?this.initOptions():this.element.nativeElement.closest("ion-modal").classList.contains("modal-ios")?this.itemHeight=44.55:this.itemHeight=49},e.prototype.resetScrollHeight=function(){return f(this,void 0,void 0,function(){var e,t,n=this;return y(this,function(i){switch(i.label){case 0:return e=this.scrollHeight,(t=this.content.nativeElement.offsetHeight)!=e?[3,2]:[4,s.waitTill(function(){return(t=n.content.nativeElement.offsetHeight)!==e},void 0,2e3)];case 1:i.sent(),i.label=2;case 2:return this.scrollHeight=t,"number"!=typeof e&&this.scroll&&this.scroll.checkViewportSize(),[2]}})})},e.prototype.ionViewDidEnter=function(){return f(this,void 0,void 0,function(){var e=this;return y(this,function(t){switch(t.label){case 0:return this.modalOverlay?(this.resetScrollHeight(),window.cordova&&"browser"!==window.cordova.platformId?[3,2]:[4,s.waitTill(function(){return!!e.searchbar&&!!e.searchbar.nativeElement.querySelector("input")})]):[3,3];case 1:t.sent(),this.searchbar.nativeElement.setFocus(),t.label=2;case 2:this.initOptions(),t.label=3;case 3:return[2]}})})},h([t.Input(),g("design:type",String)],e.prototype,"overlay",void 0),h([t.ViewChild(i.CdkVirtualScrollViewport,{static:!1}),g("design:type",i.CdkVirtualScrollViewport)],e.prototype,"scroll",void 0),h([t.ViewChild("content",{read:t.ElementRef,static:!1}),g("design:type",t.ElementRef)],e.prototype,"content",void 0),h([t.Input(),g("design:type",Boolean)],e.prototype,"multiple",void 0),h([t.Input(),g("design:type",Boolean)],e.prototype,"orderable",void 0),h([t.Input(),g("design:type",Function)],e.prototype,"updateValues",void 0),h([t.Input(),g("design:type",Object)],e.prototype,"title",void 0),h([t.Input(),g("design:type",Function)],e.prototype,"searchHandler",void 0),h([t.Input(),g("design:type",Function)],e.prototype,"valueValidator",void 0),h([t.Input(),g("design:type",Function)],e.prototype,"valueComparator",void 0),h([t.Input(),g("design:type",w)],e.prototype,"label",void 0),h([t.Input(),g("design:type",Array)],e.prototype,"options",void 0),h([t.Input(),g("design:type",Boolean)],e.prototype,"empty",void 0),h([t.Input(),g("design:type",String)],e.prototype,"whiteSpace",void 0),h([t.ViewChild("searchbar",{read:t.ElementRef,static:!1}),g("design:type",t.ElementRef)],e.prototype,"searchbar",void 0),h([t.HostListener("window:resize"),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",Promise)],e.prototype,"resetScrollHeight",null),e=h([t.Component({selector:"ionx-select-overlay",template:'<ion-header *ngIf="modalOverlay">\n    <ion-toolbar>\n        <ion-title style="padding: 0px">{{title}}</ion-title>\n\n        <ionx-buttons slot="start">\n            <ion-button fill="clear" color="primary" (click)="cancelClicked()">\n                <ion-icon name="close" slot="icon-only"></ion-icon>\n            </ion-button>\n        </ionx-buttons>\n\n        <ionx-buttons slot="end">\n            <ion-button fill="clear" color="primary" (click)="okClicked()">{{"@co.mmons/js-intl#Done" | intlMessage}}</ion-button>\n        </ionx-buttons>\n\n    </ion-toolbar>\n    <ion-toolbar>\n        <ion-searchbar #searchbar cancelButtonText="{{\'@co.mmons/js-intl#Cancel\' | intlMessage}}" placeholder="{{\'@co.mmons/js-intl#Search\' | intlMessage}}"\n                       (ionInput)="search($event)"></ion-searchbar>\n    </ion-toolbar>\n</ion-header>\n<ion-content [scrollY]="false" [scrollX]="false" #content>\n\n    <div class="ionx-select-overlay-spinner" slot="fixed" *ngIf="!checkedOptions">\n        <ion-spinner></ion-spinner>\n    </div>\n\n    <ng-template [ngIf]="!!visibleOptions">\n        <div>\n\n            <cdk-virtual-scroll-viewport [itemSize]="itemHeight" [style.height.px]="scrollHeight" *ngIf="modalOverlay">\n\n                <ion-list lines="full">\n\n                    <ion-item detail="false" [button]="!option.divider" [style.fontWeight]="option.divider ? 500 : null" #listItem *cdkVirtualFor="let option of visibleOptions">\n                        <ion-checkbox [(ngModel)]="option.checked" (ngModelChange)="optionBeforeChange(option)" (ionChange)="optionChanged(option)" (click)="optionClicked(option, $event)" slot="start"\n                                      *ngIf="!option.divider"></ion-checkbox>\n                        <ion-label>\n                            <span *ngIf="!label; else customLabel">{{option.label}}</span>\n                            <ng-template #customLabel>\n                                <ng-container *ngTemplateOutlet="label.templateRef; context: {$implicit: option.value}"></ng-container>\n                            </ng-template>\n                        </ion-label>\n                    </ion-item>\n                </ion-list>\n\n            </cdk-virtual-scroll-viewport>\n\n            <ion-list lines="full" *ngIf="popoverOverlay">\n\n                <ng-template ngFor [ngForOf]="visibleOptions" let-option>\n\n                    <ion-item-divider *ngIf="option.divider; else basicOption">\n                        <ion-label>{{option.label}}</ion-label>\n                    </ion-item-divider>\n\n                    <ng-template #basicOption>\n\n                        <ion-item detail="false" button="true" #listItem>\n                            <ion-checkbox [(ngModel)]="option.checked" (ngModelChange)="optionBeforeChange(option)" (ionChange)="optionChanged(option)" (click)="optionClicked(option, $event)"></ion-checkbox>\n                            <ion-label [style.whiteSpace]="whiteSpace">\n                                <span *ngIf="!label; else customLabel">{{option.label}}</span>\n                                <ng-template #customLabel>\n                                    <ng-container *ngTemplateOutlet="label.templateRef; context: {$implicit: option.value}"></ng-container>\n                                </ng-template>\n                            </ion-label>\n                        </ion-item>\n\n                    </ng-template>\n\n                </ng-template>\n            </ion-list>\n        </div>\n    </ng-template>\n\n</ion-content>\n\n<ion-footer *ngIf="multiple && popoverOverlay" style="position: sticky; bottom: 0px">\n    <ion-toolbar>\n        <ion-buttons slot="end">\n\n            <ion-button size="small" (click)="cancelClicked()">{{"@co.mmons/js-intl#Cancel" | intlMessage}}</ion-button>\n\n            <ion-button size="small" (click)="okClicked()">{{"@co.mmons/js-intl#Ok" | intlMessage}}</ion-button>\n\n        </ion-buttons>\n    </ion-toolbar>\n</ion-footer>\n',styles:["@media (min-width:768px){::ng-deep .ionx-select-overlay-width .popover-content{--width:300px;--max-width:90%}}@media (max-width:767px){::ng-deep .ionx-select-overlay-width .popover-content{left:calc(16px + var(--ion-safe-area-left,0px))!important;width:calc(100% - (32px + var(--ion-safe-area-right,0px) + var(--ion-safe-area-left,0px)))}}:host .ionx-select-overlay-spinner{position:absolute;width:100%;height:100%;left:0;top:0}:host .ionx-select-overlay-spinner ion-spinner{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}:host ion-checkbox{margin-right:16px;margin-top:8px;margin-bottom:8px}:host ion-list{margin:4px 0;padding:0}:host ::ng-deep .cdk-virtual-scroll-content-wrapper{max-width:100%}:host ::ng-deep .hydrated{visibility:visible}:host-context(ion-popover) ion-content{--overflow:initial!important}:host-context(ion-popover) ion-content ion-item ion-label{white-space:normal}:host-context(ion-popover) ion-content ion-item.item:last-child{--border-width:0px}:host-context(.ios) ion-item-divider{--background:transparent;font-size:12px;text-transform:uppercase;letter-spacing:1px;font-weight:500}"]}),m(2,t.Optional()),m(3,t.Optional()),g("design:paramtypes",[t.ElementRef,a.IntlService,n.PopoverController,n.ModalController])],e)}(),_=function(){function e(e,n,i,o,r){var a=this;this.element=e,this.intl=n,this.popoverController=i,this.modalController=o,this.control=r,this.overlayWhiteSpace="nowrap",this.empty=!0,this.ionChange=new t.EventEmitter,this.change=this.ionChange,this.values=[],this.valueComparator=function(e,t){if(a.compareAsString)return null!=e&&null!=t?e.toString()==t.toString():e==t;if(a.comparator){var n=a.comparator(e,t);return 0===n||!0===n}return e===t},r&&(r.valueAccessor=this)}return Object.defineProperty(e.prototype,"listItem",{get:function(){return this._listItem?this._listItem:this._listItem=this.element.nativeElement.closest("ion-item")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readonly",{get:function(){return!!this._readonly},set:function(e){"string"==typeof e?this.readonly="true"===e:this._readonly=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=!(!e&&"true"!=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.multiple||this.alwaysArray?this.values.slice(0):this.values.length>0?this.values[0]:void 0},set:function(e){var t=!1,n=Array.isArray(e)?e:null!=e?[e]:[];if(n.length!=this.values.length)t=!0;else for(var i=0;i<this.values.length;i++)if(!this.valueComparator(this.values[i],n[i])){t=!0;break}if(this.values=n,t){this.checkListItemHasValue();var o=this.value;this.fireOnChange&&(this.controlOnChange&&this.controlOnChange(o),this.ionChange.emit(o))}this.fireOnChange=!1},enumerable:!0,configurable:!0}),e.prototype.labelImpl$=function(e){if(this.options instanceof I){this.cachedLabels||(this.cachedLabels=new Array(this.options.length));for(var t=0;t<this.options.length;t++)if(this.valueComparator(e,this.options[t].value))return this.cachedLabels[t]?this.cachedLabels[t]:this.cachedLabels[t]=this.options[t].label?this.options[t].label:this.label?this.label(e):e+""}else if(this.options){this.cachedLabels||(this.cachedLabels=new Array(this.options.length));for(t=0;t<this.options.length;t++)if(this.valueComparator(e,this.options[t]))return this.cachedLabels[t]?this.cachedLabels[t]:this.cachedLabels[t]=this.label?this.label(e):e+""}else if(this.optionsComponents){var n=this.optionsComponents.toArray();for(t=0;t<n.length;t++)if(this.valueComparator(e,n[t].value))return n[t].label}return e},e.prototype.writeValue=function(e){this.value=e},e.prototype.hasValue=function(){return this.values.length>0},e.prototype.checkListItemHasValue=function(){this.listItem&&(this.hasValue()?this.listItem.classList.add("has-value"):this.listItem.classList.remove("has-value"))},Object.defineProperty(e.prototype,"_optionsComponents",{set:function(e){this.optionsComponents=e},enumerable:!0,configurable:!0}),e.prototype.indexOfValue=function(e){if(!this.values)return-1;for(var t=0;t<this.values.length;t++)if(this.valueComparator(e,this.values[t]))return t;return-1},e.prototype.registerOnChange=function(e){this.controlOnChange=e},e.prototype.registerOnTouched=function(e){this.controlOnTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.open=function(e){return f(this,void 0,void 0,function(){var t,n,i,o,r,a,s,l,p,c,d,u,h,m,g,f,b,x,C,w,A=this;return y(this,function(y){switch(y.label){case 0:if((s=this.overlay)||(s="popover"),l=[],this.options instanceof I)try{for(p=v(this.options),c=p.next();!c.done;c=p.next())g=c.value,f=g.value?this.indexOfValue(g.value):-1,l.push({value:g.value,checked:!!g.value&&f>-1,checkedTimestamp:this.orderable&&f,label:g.label?g.label:this.searchTest&&this.labelTemplate?void 0:this.labelImpl$(g.value),disabled:g.disabled,divider:g.divider})}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}else if(this.options)try{for(d=v(this.options),u=d.next();!u.done;u=d.next())g=u.value,f=this.indexOfValue(g),l.push({value:g,checked:f>-1,checkedTimestamp:this.orderable&&f,label:this.labelTemplate&&this.searchTest?void 0:this.labelImpl$(g)})}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}else if(this.optionsComponents)try{for(h=v(this.optionsComponents.toArray()),m=h.next();!m.done;m=h.next())g=m.value,f=this.indexOfValue(g.value),l.push({value:g.value,checked:f>-1,checkedTimestamp:this.orderable&&f,label:g.label,divider:!!g.divider})}catch(e){r={error:e}}finally{try{m&&!m.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}return this.title&&(b=this.title),!b&&this.listItem&&((x=this.listItem.querySelector("[ionx-select-overlay-title]"))?b=x.innerText:(C=this.listItem.querySelector("ion-label"))&&(b=C.innerText)),!b&&this.element.nativeElement.title&&(b=this.element.nativeElement.title),!b&&this.placeholder&&(b=this.placeholder),w={overlay:s,options:l,multiple:!!this.multiple,title:b,label:this.labelTemplate,orderable:!!this.orderable,empty:!!this.empty,whiteSpace:this.overlayWhiteSpace,valueValidator:this.checkValidator,valueComparator:this.valueComparator,width:this.element.nativeElement.getBoundingClientRect().width,updateValues:function(e){A.fireOnChange=!0,A.value=e,A.controlOnTouched&&A.controlOnTouched()}},"popover"!=s?[3,2]:[4,this.popoverController.create({component:k,componentProps:w,cssClass:"ionx-select-overlay-width",event:e})];case 1:return y.sent().present(),[3,4];case 2:return[4,this.modalController.create({component:k,componentProps:w})];case 3:y.sent().present(),y.label=4;case 4:return[2]}})})},e.prototype.updateCssClasses=function(){this.listItem?(this.listItem.classList.add("item-select"),this.readonly||this.disabled?this.listItem.classList.remove("item-interactive"):this.listItem.classList.add("item-interactive"),this.element.nativeElement.classList.add("in-item")):this.element.nativeElement.classList.remove("in-item")},e.prototype.ngOnChanges=function(e){e.options&&(this.cachedLabels=void 0),(e.orderable||e.readonly||e.disabled)&&this.updateCssClasses()},e.prototype.ngOnInit=function(){this.updateCssClasses(),this.orderable},h([t.ViewChild("textContainer",{static:!0}),g("design:type",t.ElementRef)],e.prototype,"textContainer",void 0),h([t.Input(),g("design:type",String)],e.prototype,"placeholder",void 0),h([t.Input(),g("design:type",String)],e.prototype,"overlay",void 0),h([t.Input(),g("design:type",String)],e.prototype,"overlayWhiteSpace",void 0),h([t.Input(),g("design:type",Boolean)],e.prototype,"alwaysArray",void 0),h([t.Input(),g("design:type",Boolean)],e.prototype,"compareAsString",void 0),h([t.Input(),g("design:type",Function)],e.prototype,"comparator",void 0),h([t.Input(),g("design:type",Boolean)],e.prototype,"multiple",void 0),h([t.Input(),g("design:type",String)],e.prototype,"title",void 0),h([t.Input(),g("design:type",Boolean)],e.prototype,"orderable",void 0),h([t.Input(),g("design:type",Boolean)],e.prototype,"empty",void 0),h([t.Input(),g("design:type",Boolean),g("design:paramtypes",[Boolean])],e.prototype,"readonly",null),h([t.Input(),g("design:type",Function)],e.prototype,"searchTest",void 0),h([t.Input(),g("design:type",Function)],e.prototype,"checkValidator",void 0),h([t.Output(),g("design:type",t.EventEmitter)],e.prototype,"ionChange",void 0),h([t.Output(),g("design:type",t.EventEmitter)],e.prototype,"change",void 0),h([t.Input(),g("design:type",Object),g("design:paramtypes",[Object])],e.prototype,"disabled",null),h([t.Input(),g("design:type",Object),g("design:paramtypes",[Object])],e.prototype,"value",null),h([t.ContentChild(w,{static:!1}),g("design:type",w)],e.prototype,"labelTemplate",void 0),h([t.Input(),g("design:type",Function)],e.prototype,"label",void 0),h([t.Input(),g("design:type",Object)],e.prototype,"options",void 0),h([t.ContentChildren(A),g("design:type",t.QueryList),g("design:paramtypes",[t.QueryList])],e.prototype,"_optionsComponents",null),e=h([t.Component({selector:"ionx-select",host:{"[attr.ionx--chips-layout]":"!!orderable || null","[attr.ionx--readonly]":"(!!readonly || !!disabled) || null","[attr.ionx--orderable]":"(!!orderable && !readonly && !disabled && values && values.length > 1) || null"},template:'<ng-template #optionTemplate let-value="value" let-index="index">\n    <span *ngIf="!labelTemplate; else hasLabelTemplate">{{labelImpl$(value)}}</span>\n    <ng-template #hasLabelTemplate>\n        <ng-container *ngTemplateOutlet="labelTemplate.templateRef; context: {$implicit: value, index: index}"></ng-container>\n    </ng-template>\n</ng-template>\n\n<div class="select-inner">\n    <div class="select-text" #textContainer [class.select-placeholder]="values.length == 0">\n        <span *ngIf="values.length == 0; else showValues">{{placeholder}}</span>\n        <ng-template #showValues>\n            <ng-template ngFor [ngForOf]="values" let-value let-index="index">\n                <span *ngIf="index > 0 && (!labelTemplate || labelTemplate.separator) && !orderable">{{!labelTemplate ? ", " : labelTemplate.separator}}</span>\n\n                <ion-chip *ngIf="orderable else simpleText" outline="true" [attr.ionx--index]="index">\n                    <ng-template *ngTemplateOutlet="optionTemplate; context: {value: value, index: index}"></ng-template>\n                </ion-chip>\n\n                <ng-template #simpleText>\n                    <ng-template *ngTemplateOutlet="optionTemplate; context: {value: value, index: index}"></ng-template>\n                </ng-template>\n\n            </ng-template>\n        </ng-template>\n    </div>\n\n    <ng-container  *ngIf="!_readonly && !_disabled">\n        <div class="select-icon" role="presentation" *ngIf="!orderable">\n            <div class="select-icon-inner"></div>\n        </div>\n        <button type="button" role="combobox" aria-haspopup="dialog" class="select-cover" (click)="open($event)" *ngIf="!orderable || !values || values.length === 0"></button>\n    </ng-container>\n\n</div>\n',styles:[":host{padding:var(--padding-top) var(--padding-end) var(--padding-bottom) var(--padding-start);display:inline-block;overflow:hidden;color:var(--color);font-family:var(--ion-font-family,inherit);max-width:100%}:host .select-inner{display:flex;position:relative}:host .select-icon{position:relative;width:16px;height:20px}:host .select-icon .select-icon-inner{top:50%;right:0;margin-top:-3px;position:absolute;width:0;height:0;border-top:5px solid;border-right:5px solid transparent;border-left:5px solid transparent;color:currentColor;opacity:.33;pointer-events:none}:host .select-text.select-placeholder{opacity:.5}:host.select-disabled{opacity:.4;pointer-events:none}:host.select-readonly{opacity:1;pointer-events:none}:host.select-readonly .select-icon{display:none}:host[white-space-normal] .select-text{white-space:normal!important}:host button{left:0;top:0;margin:0;position:absolute;width:100%;height:100%;border:0;background:0 0;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:0}:host button::-moz-focus-inner{border:0}:host.in-item{position:static}:host ion-chip{max-width:calc(50% - 4px);-webkit-margin-start:0;margin-inline-start:0;margin-bottom:0;cursor:default}:host ion-chip>span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;line-height:1.1}:host [ionx--orderable] ion-chip{cursor:move}:host [ionx--chips-layout] .select-text{white-space:normal;width:100%}:host-context(ion-toolbar){color:var(--ion-toolbar-color);--icon-color:var(--ion-toolbar-color);--padding-start:16px;--padding-end:16px}:host-context(.item-label-stacked){align-self:flex-start;--padding-top:8px;--padding-bottom:8px;--padding-start:0;width:100%}:host-context(.item-label-stacked) .select-text{max-width:calc(100% - 16px);flex:initial}"]}),m(4,t.Optional()),g("design:paramtypes",[t.ElementRef,a.IntlService,n.PopoverController,n.ModalController,r.NgControl])],e)}(),T=function(){function e(){}return e=h([t.NgModule({declarations:[_,A,k,w],entryComponents:[_,A,k],exports:[_,A,k,w],imports:[o.CommonModule,r.FormsModule,n.IonicModule,a.IntlModule,i.ScrollingModule,C]})],e)}(),E={year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"};function O(e,t){t||(t=new Date);var n={hour12:!1,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",timeZone:e},i={hour12:!1,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short",timeZone:e};b||(b=(new Intl.DateTimeFormat).resolvedOptions().locale);try{var o=new Intl.DateTimeFormat(b,n).format(t),r=new Intl.DateTimeFormat(b,i).format(t).replace(o,"").trim();return{id:e,label:e.replace("_"," ")+" ("+r+")",date:o}}catch(e){throw new Error("Invalid timezone. "+e)}}var M=["Europe/Andorra","Asia/Dubai","Asia/Kabul","Europe/Tirane","Asia/Yerevan","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Mawson","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","America/Argentina/Buenos_Aires","America/Argentina/Cordoba","America/Argentina/Salta","America/Argentina/Jujuy","America/Argentina/Tucuman","America/Argentina/Catamarca","America/Argentina/La_Rioja","America/Argentina/San_Juan","America/Argentina/Mendoza","America/Argentina/San_Luis","America/Argentina/Rio_Gallegos","America/Argentina/Ushuaia","Pacific/Pago_Pago","Europe/Vienna","Australia/Lord_Howe","Antarctica/Macquarie","Australia/Hobart","Australia/Currie","Australia/Melbourne","Australia/Sydney","Australia/Broken_Hill","Australia/Brisbane","Australia/Lindeman","Australia/Adelaide","Australia/Darwin","Australia/Perth","Australia/Eucla","Asia/Baku","America/Barbados","Asia/Dhaka","Europe/Brussels","Europe/Sofia","Atlantic/Bermuda","Asia/Brunei","America/La_Paz","America/Noronha","America/Belem","America/Fortaleza","America/Recife","America/Araguaina","America/Maceio","America/Bahia","America/Sao_Paulo","America/Campo_Grande","America/Cuiaba","America/Santarem","America/Porto_Velho","America/Boa_Vista","America/Manaus","America/Eirunepe","America/Rio_Branco","America/Nassau","Asia/Thimphu","Europe/Minsk","America/Belize","America/St_Johns","America/Halifax","America/Glace_Bay","America/Moncton","America/Goose_Bay","America/Blanc-Sablon","America/Toronto","America/Nipigon","America/Thunder_Bay","America/Iqaluit","America/Pangnirtung","America/Atikokan","America/Winnipeg","America/Rainy_River","America/Resolute","America/Rankin_Inlet","America/Regina","America/Swift_Current","America/Edmonton","America/Cambridge_Bay","America/Yellowknife","America/Inuvik","America/Creston","America/Dawson_Creek","America/Fort_Nelson","America/Vancouver","America/Whitehorse","America/Dawson","Indian/Cocos","Europe/Zurich","Africa/Abidjan","Pacific/Rarotonga","America/Santiago","America/Punta_Arenas","Pacific/Easter","Asia/Shanghai","Asia/Urumqi","America/Bogota","America/Costa_Rica","America/Havana","Atlantic/Cape_Verde","America/Curacao","Indian/Christmas","Asia/Nicosia","Asia/Famagusta","Europe/Prague","Europe/Berlin","Europe/Copenhagen","America/Santo_Domingo","Africa/Algiers","America/Guayaquil","Pacific/Galapagos","Europe/Tallinn","Africa/Cairo","Africa/El_Aaiun","Europe/Madrid","Africa/Ceuta","Atlantic/Canary","Europe/Helsinki","Pacific/Fiji","Atlantic/Stanley","Pacific/Chuuk","Pacific/Pohnpei","Pacific/Kosrae","Atlantic/Faroe","Europe/Paris","Europe/London","Asia/Tbilisi","America/Cayenne","Africa/Accra","Europe/Gibraltar","America/Godthab","America/Danmarkshavn","America/Scoresbysund","America/Thule","Europe/Athens","Atlantic/South_Georgia","America/Guatemala","Pacific/Guam","Africa/Bissau","America/Guyana","Asia/Hong_Kong","America/Tegucigalpa","America/Port-au-Prince","Europe/Budapest","Asia/Jakarta","Asia/Pontianak","Asia/Makassar","Asia/Jayapura","Europe/Dublin","Asia/Jerusalem","Asia/Kolkata","Indian/Chagos","Asia/Baghdad","Asia/Tehran","Atlantic/Reykjavik","Europe/Rome","America/Jamaica","Asia/Amman","Asia/Tokyo","Africa/Nairobi","Asia/Bishkek","Pacific/Tarawa","Pacific/Enderbury","Pacific/Kiritimati","Asia/Pyongyang","Asia/Seoul","Asia/Almaty","Asia/Qyzylorda","Asia/Qostanay","Asia/Aqtobe","Asia/Aqtau","Asia/Atyrau","Asia/Oral","Asia/Beirut","Asia/Colombo","Africa/Monrovia","Europe/Vilnius","Europe/Luxembourg","Europe/Riga","Africa/Tripoli","Africa/Casablanca","Europe/Monaco","Europe/Chisinau","Pacific/Majuro","Pacific/Kwajalein","Asia/Yangon","Asia/Ulaanbaatar","Asia/Hovd","Asia/Choibalsan","Asia/Macau","America/Martinique","Europe/Malta","Indian/Mauritius","Indian/Maldives","America/Mexico_City","America/Cancun","America/Merida","America/Monterrey","America/Matamoros","America/Mazatlan","America/Chihuahua","America/Ojinaga","America/Hermosillo","America/Tijuana","America/Bahia_Banderas","Asia/Kuala_Lumpur","Asia/Kuching","Africa/Maputo","Africa/Windhoek","Pacific/Noumea","Pacific/Norfolk","Africa/Lagos","America/Managua","Europe/Amsterdam","Europe/Oslo","Asia/Kathmandu","Pacific/Nauru","Pacific/Niue","Pacific/Auckland","Pacific/Chatham","America/Panama","America/Lima","Pacific/Tahiti","Pacific/Marquesas","Pacific/Gambier","Pacific/Port_Moresby","Pacific/Bougainville","Asia/Manila","Asia/Karachi","Europe/Warsaw","America/Miquelon","Pacific/Pitcairn","America/Puerto_Rico","Asia/Gaza","Asia/Hebron","Europe/Lisbon","Atlantic/Madeira","Atlantic/Azores","Pacific/Palau","America/Asuncion","Asia/Qatar","Indian/Reunion","Europe/Bucharest","Europe/Belgrade","Europe/Kaliningrad","Europe/Moscow","Europe/Simferopol","Europe/Kirov","Europe/Astrakhan","Europe/Volgograd","Europe/Saratov","Europe/Ulyanovsk","Europe/Samara","Asia/Yekaterinburg","Asia/Omsk","Asia/Novosibirsk","Asia/Barnaul","Asia/Tomsk","Asia/Novokuznetsk","Asia/Krasnoyarsk","Asia/Irkutsk","Asia/Chita","Asia/Yakutsk","Asia/Khandyga","Asia/Vladivostok","Asia/Ust-Nera","Asia/Magadan","Asia/Sakhalin","Asia/Srednekolymsk","Asia/Kamchatka","Asia/Anadyr","Asia/Riyadh","Pacific/Guadalcanal","Indian/Mahe","Africa/Khartoum","Europe/Stockholm","Asia/Singapore","America/Paramaribo","Africa/Juba","Africa/Sao_Tome","America/El_Salvador","Asia/Damascus","America/Grand_Turk","Africa/Ndjamena","Indian/Kerguelen","Asia/Bangkok","Asia/Dushanbe","Pacific/Fakaofo","Asia/Dili","Asia/Ashgabat","Africa/Tunis","Pacific/Tongatapu","Europe/Istanbul","America/Port_of_Spain","Pacific/Funafuti","Asia/Taipei","Europe/Kiev","Europe/Uzhgorod","Europe/Zaporozhye","Pacific/Wake","America/New_York","America/Detroit","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Indiana/Indianapolis","America/Indiana/Vincennes","America/Indiana/Winamac","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Vevay","America/Chicago","America/Indiana/Tell_City","America/Indiana/Knox","America/Menominee","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/North_Dakota/Beulah","America/Denver","America/Boise","America/Phoenix","America/Los_Angeles","America/Anchorage","America/Juneau","America/Sitka","America/Metlakatla","America/Yakutat","America/Nome","America/Adak","Pacific/Honolulu","America/Montevideo","Asia/Samarkand","Asia/Tashkent","America/Caracas","Asia/Ho_Chi_Minh","Pacific/Efate","Pacific/Wallis","Pacific/Apia","Africa/Johannesburg"];var V={weekday:"short"},D={month:"long",year:"numeric"},S={month:"long"},P=function(){function e(e,t,n){this.viewController=e,this.intl=t,this.changeDetector=n,this.dateView="days",this.dateViews=[{id:"days",label:this.intl.message("@co.mmons/ionic-extensions#Day")},{id:"months",label:this.intl.message("@co.mmons/ionic-extensions#Month")},{id:"years",label:this.intl.message("@co.mmons/ionic-extensions#Year")}]}return e.prototype.dateViewChanged=function(){this.dateViewValue=new Date(this.value),this.generateDateValues(),this.generateDateHeader()},e.prototype.dateViewMove=function(e){if("days"==this.dateView)this.dateViewValue.setUTCMonth(this.dateViewValue.getUTCMonth()+e);else if("months"==this.dateView)this.dateViewValue.setUTCFullYear(this.dateViewValue.getUTCFullYear()+e);else if("years"==this.dateView){var t=100*Math.floor(this.dateViewValue.getUTCFullYear()/100),n=this.dateViewValue.getUTCFullYear()-t,i=0;n>=80?i=80:n>=60?i=60:n>=40?i=40:n>=20&&(i=20),this.dateViewValue.setUTCFullYear(t+i+20*e)}this.generateDateValues(),this.generateDateHeader()},e.prototype.dateValueClicked=function(e){var t,n,i=new Date(this.dateViewValue);if("days"==this.dateView)i.setUTCDate(e);else if("months"==this.dateView){i.setUTCMonth(e);for(var o=1;o<5&&i.getUTCMonth()!=e;o++)(i=new Date(this.dateViewValue)).setUTCDate(i.getUTCDate()-o),i.setUTCMonth(e)}else if("years"==this.dateView){i.setUTCFullYear(e);for(o=1;o<5&&i.getUTCMonth()!=this.dateViewValue.getUTCMonth();o++)(i=new Date(this.dateViewValue)).setUTCMonth(this.dateViewValue.getUTCMonth(),i.getUTCDate()-o),i.setUTCFullYear(e)}try{for(var r=v(this.dateValues),a=r.next();!a.done;a=r.next()){var s=a.value;s.checked=s.id==e}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.value=new Date(i),this.dateViewValue=new Date(i)},e.prototype.generateDateValues=function(){this.dateValues=[];var e=new Date(this.dateViewValue);if("days"==this.dateView)for(var t=1;t<=33;t++)e.setUTCDate(t),e.setUTCHours(0,0,0,0),this.dateValues.push({id:t,label:t,sublabel:this.intl.dateFormat(e,V),checked:this.value.getUTCFullYear()==e.getUTCFullYear()&&this.value.getUTCMonth()==e.getUTCMonth()&&this.value.getUTCDate()==t,hidden:e.getUTCMonth()!=this.dateViewValue.getUTCMonth()});else if("months"==this.dateView)for(var n=new Date(Date.UTC(1999,this.dateViewValue.getUTCMonth())),i=0;i<12;i++)n.setUTCMonth(i),this.dateValues.push({id:i,label:this.intl.dateFormat(n,S),checked:this.value.getUTCFullYear()==this.dateViewValue.getUTCFullYear()&&this.value.getUTCMonth()==i});else if("years"==this.dateView){var o=new Date(this.dateViewValue),r=100*Math.floor(o.getUTCFullYear()/100),a=o.getUTCFullYear()-r,s=0;a>=80?s=80:a>=60?s=60:a>=40?s=40:a>=20&&(s=20),o.setUTCFullYear(r+s-1);for(var l=0;l<20;l++)o.setUTCFullYear(o.getUTCFullYear()+1),this.dateValues.push({id:o.getUTCFullYear(),label:o.getUTCFullYear(),checked:this.value.getUTCFullYear()==o.getUTCFullYear()})}},e.prototype.generateDateHeader=function(){if("days"==this.dateView)this.dateHeader=this.intl.dateFormat(this.dateViewValue,D);else if("months"==this.dateView)this.dateHeader=this.dateViewValue.getUTCFullYear()+"";else if("years"==this.dateView){var e=100*Math.floor(this.dateViewValue.getUTCFullYear()/100),t=this.dateViewValue.getUTCFullYear()-e,n=0;t>=80?n=80:t>=60?n=60:t>=40?n=40:t>=20&&(n=20),this.dateHeader=e+n+" - "+(e+n+19)}},Object.defineProperty(e.prototype,"timeVisible",{get:function(){return!!this.formatOptions.hour||!!this.formatOptions.hour12||!!this.formatOptions.minute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeHoursFormatted",{get:function(){return this.formatTime(this.value.getUTCHours())},set:function(e){try{var t=parseInt(e);isNaN(t)?this.timeHours=0:this.timeHours=t}catch(e){this.timeHours=0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeHours",{get:function(){return this.value.getUTCHours()},set:function(e){(e<0||e>23)&&(e=0),this.value.setUTCHours(e),this.dateViewValue.setUTCHours(e),this.changeDetector.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeMinutesFormatted",{get:function(){return this.formatTime(this.value.getUTCMinutes())},set:function(e){try{var t=parseInt(e);isNaN(t)?this.timeMinutes=0:this.timeMinutes=t}catch(e){this.timeMinutes=0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeMinutes",{get:function(){return this.value.getUTCMinutes()},set:function(e){(e<0||e>59)&&(e=0),this.value.setUTCMinutes(e),this.dateViewValue.setUTCMinutes(e),this.changeDetector.detectChanges()},enumerable:!0,configurable:!0}),e.prototype.formatTime=function(e){return e<10?"0"+e:e+""},e.prototype.todayClicked=function(){var e=new Date;this.value.setUTCFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),this.dateViewValue=new Date(this.value),this.generateDateValues(),this.generateDateHeader()},e.prototype.cancelClicked=function(){this.viewController.dismiss()},e.prototype.doneClicked=function(){var e=this.value;this.timezone&&"UTC"!==this.timezone&&(e=new Date(e.getTime()-60*s.DateTimezone.timezoneOffset(this.timezone,this.value)*1e3*-1)),this.viewController.dismiss(new s.DateTimezone(e,this.timezone),null)},e.prototype.loadTimezones=function(){return f(this,void 0,void 0,function(){var e,t,n,i,o;return y(this,function(r){this.timezones=new I;try{for(n=v(function(e){var t,n;e||(e=new Date);var i=[];try{for(var o=v(M),r=o.next();!r.done;r=o.next()){var a=r.value;try{i.push(O(a,e))}catch(e){}}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i.sort(function(e,t){return e.date.localeCompare(t.date)})}(this.value)),i=n.next();!i.done;i=n.next())o=i.value,this.timezones.pushOption(o.id,o.label)}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return[2]})})},e.prototype.ngOnInit=function(){if(this.dateViewValue=new Date(this.value),this.generateDateValues(),this.generateDateHeader(),!this.timezoneDisabled){if(this.timezone)try{var e=O(this.timezone);this.timezones=new I,this.timezones.pushOption(e.id,e.label)}catch(e){}this.loadTimezones()}},h([t.Input(),g("design:type",Date)],e.prototype,"value",void 0),h([t.Input(),g("design:type",Object)],e.prototype,"formatOptions",void 0),h([t.Input(),g("design:type",String)],e.prototype,"title",void 0),h([t.Input(),g("design:type",String)],e.prototype,"timezone",void 0),h([t.Input(),g("design:type",Boolean)],e.prototype,"timezoneDisabled",void 0),e=h([t.Component({selector:"ionx-datetime-overlay",template:'<ion-header>\n    <ion-toolbar>\n        <ion-buttons slot="start">\n            <ion-button (click)="cancelClicked()" fill="clear">\n                <ion-icon name="close" slot="icon-only"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n\n        <ion-title>{{title}}</ion-title>\n\n        <ion-buttons slot="end">\n            <ion-button (click)="doneClicked()">{{"@co.mmons/js-intl#Done" | intlMessage}}</ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n    <ion-toolbar>\n        <ion-segment [(ngModel)]="dateView" (ionChange)="dateViewChanged()">\n            <ion-segment-button *ngFor="let view of dateViews" [value]="view.id">{{view.label}}</ion-segment-button>\n        </ion-segment>\n    </ion-toolbar>\n</ion-header>\n<ion-content>\n\n    <div>\n\n        <ion-row ionx--values-header>\n            <ion-col size="3">\n                <ion-button fill="clear" (click)="dateViewMove(-1)">\n                    <ion-icon name="arrow-dropleft" slot="icon-only"></ion-icon>\n                </ion-button>\n            </ion-col>\n            <ion-col size="6" text-center>{{dateHeader}}</ion-col>\n            <ion-col size="3" text-right>\n                <ion-button fill="clear" (click)="dateViewMove(1)">\n                    <ion-icon name="arrow-dropright" slot="icon-only"></ion-icon>\n                </ion-button>\n            </ion-col>\n        </ion-row>\n\n        <ion-row ionx--values-grid style="margin: 0px 14px">\n            <ion-col *ngFor="let value of dateValues" [size]="dateView == \'years\' ? 3 : (dateView == \'months\' ? 6 : 2)" [style.visibility]="value.hidden ? \'hidden\' : \'visible\'">\n                <ion-button [fill]="!value.checked ? \'outline\' : \'solid\'" (click)="dateValueClicked(value.id)">\n                    <div>\n                        <div>{{value.label}}</div>\n                        <small *ngIf="value.sublabel">{{value.sublabel}}</small>\n                    </div>\n                </ion-button>\n            </ion-col>\n            <ion-col size="6" *ngIf="dateView == \'days\'">\n                <ion-button (click)="todayClicked()">{{"@co.mmons/ionic-extensions#Today" | intlMessage}}</ion-button>\n            </ion-col>\n        </ion-row>\n\n    </div>\n\n</ion-content>\n\n<ion-footer *ngIf="timeVisible">\n    <ion-toolbar>\n        <ion-row>\n            <ion-col size="3">\n                <ion-input type="number" [(ngModel)]="timeHoursFormatted" [min]="0" [max]="23" inputmode="numeric"></ion-input>\n            </ion-col>\n            <ion-col>\n                <ion-range [(ngModel)]="timeHours" min="0" max="23" step="1"></ion-range>\n            </ion-col>\n        </ion-row>\n        <ion-row>\n            <ion-col size="3">\n                <ion-input type="number" [(ngModel)]="timeMinutesFormatted" [min]="0" [max]="59" inputmode="numeric"></ion-input>\n            </ion-col>\n            <ion-col>\n                <ion-range [(ngModel)]="timeMinutes" min="0" max="59" step="1"></ion-range>\n            </ion-col>\n        </ion-row>\n        <ion-row *ngIf="!timezoneDisabled">\n            <ion-col size="3"></ion-col>\n            <ion-col size="9">\n                <ionx-select [options]="timezones" [(ngModel)]="timezone" overlay="modal" [title]="\'@co.mmons/ionic-extensions#Time zone\' | intlMessage" [placeholder]="\'@co.mmons/ionic-extensions#No time zone\' | intlMessage"></ionx-select>\n            </ion-col>\n        </ion-row>\n    </ion-toolbar>\n</ion-footer>\n',styles:[":host{display:flex}:host [ionx--values-header]{margin:16px 16px 8px}:host [ionx--values-header] ion-col{padding:0;-ms-grid-row-align:center;align-self:center}:host [ionx--values-header] ion-button{max-height:36px}:host [ionx--values-grid] ion-col{display:flex;padding:4px;align-items:center;justify-content:center}:host [ionx--values-grid] ion-button{--box-shadow:none;padding:0;margin:0;flex:1;display:flex;--width:100%;--padding-start:2px;--padding-end:2px;--padding-top:2px;--padding-bottom:2px;--margin-start:0px;--margin-end:0px;--margin-top:0px;--margin-bottom:0px}:host [ionx--values-grid] ion-button div{min-width:40px;line-height:.8}:host ion-footer ion-toolbar{--padding-start:16px;--padding-end:16px;--padding-top:0px;--padding-bottom:0px}:host ion-footer ion-range{padding:0 8px 0 0}:host ion-footer ion-input{--padding-end:8px;--padding-start:0px;text-align:center}:host ion-footer ion-col{padding:0;-ms-grid-row-align:center;align-self:center}:host ion-footer ionx-select{padding-left:0}:host-context(.ios) ion-segment{margin-bottom:4px}:host-context(.ios) [ionx--values-header]{margin-top:0;margin-bottom:0}:host-context(.ios) [ionx--values-grid] ion-button{--padding-start:0px;--padding-end:0px;--padding-top:0px;--padding-bottom:0px;--margin-start:0px;--margin-end:0px;--margin-top:0px;--margin-bottom:0px}:host-context(.md) [ionx--values-grid] ion-button.button-outline{--border-width:1px}"]}),g("design:paramtypes",[n.ModalController,a.IntlService,t.ChangeDetectorRef])],e)}(),L=function(){function e(e,n,i,o){this.element=e,this.intl=n,this.modalController=i,this.control=o,this.ionChange=new t.EventEmitter,o&&(o.valueAccessor=this)}var i;return i=e,e.currentTimezone=function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone},Object.defineProperty(e.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=!(!e&&"true"!=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listItem",{get:function(){return this._listItem?this._listItem:this._listItem=this.element.nativeElement.closest("ion-item")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayFormat",{get:function(){return this._displayFormat},set:function(e){this._displayFormat="string"==typeof e?this.intl.findFormatterPredefinedOptions(Intl.DateTimeFormat,e):e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pickerFormat",{get:function(){return this._pickerFormat},set:function(e){this._pickerFormat="string"==typeof e?this.intl.findFormatterPredefinedOptions(Intl.DateTimeFormat,e):e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){if(this._value)return new s.DateTimezone(new Date(this._value.date.getTime()),this._value.timezone)},set:function(e){var t=!1;null==e!=(void 0===this._value)?t=!0:"number"!=typeof e||void 0!==this._value&&e===this._value.date.getTime()?e instanceof Date&&(void 0===this._value||e.getTime()!==this._value.date.getTime())?t=!0:e instanceof s.DateTimezone&&(void 0===this._value||e.date.getTime()!==this._value.date.getTime()||e.timezone!==this._value.timezone)&&(t=!0):t=!0,"number"==typeof e?this._value=new s.DateTimezone(e):e instanceof Date?this._value=new s.DateTimezone(e.getTime()):e instanceof s.DateTimezone?this._value=new s.DateTimezone(new Date(e.date.getTime()),"current"===e.timezone?i.currentTimezone():e.timezone):this._value=void 0,t&&(this.ionChange.emit(this.value),this.updateText(),this.checkListItemHasValue(),this.controlOnChange&&!this.muteControlOnChange&&this.controlOnChange(this.value)),this.muteControlOnChange=!1},enumerable:!0,configurable:!0}),e.prototype.clearValue=function(){this.value=void 0,this.controlOnTouched&&this.controlOnTouched()},e.prototype.hasValue=function(){return!!this._value},e.prototype.checkListItemHasValue=function(){this.listItem&&(this.hasValue()?this.listItem.classList.add("has-value"):this.listItem.classList.remove("has-value"))},e.prototype.updateText=function(){if(this.hasValue()){var e=Object.assign({},this.displayFormat||E);this._value.timezone&&(e.timeZone=this._value.timezone,e.timeZoneName||(e.timeZoneName="short")),this._value.timezone||(e.timeZone="UTC",e.timeZoneName=void 0),this._text=this.intl.dateTimeFormat(this._value,e)}else this._text=null},e.prototype.clicked=function(e){0===e.detail||this.disabled||this.readonly||(e.preventDefault(),e.stopPropagation(),this.open(e))},e.prototype.keyuped=function(){this.open(void 0)},e.prototype.open=function(e){return f(this,void 0,void 0,function(){var e,t,n,o,r,a,l;return y(this,function(p){switch(p.label){case 0:return this.disabled||this.opened||this.readonly?[2]:(e=this.pickerFormat||this.displayFormat||E,"current"===(t=this._value?this._value.timezone:this.defaultTimezone)&&(t=i.currentTimezone()),n=this._value&&this._value.date?this._value.date:new Date,n=t&&"UTC"!==t?new Date(n.getTime()+60*s.DateTimezone.timezoneOffset(t,n)*1e3*-1):new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),0,0)),o=this.overlayTitle,this.listItem&&!o&&(r=this.listItem.querySelector("ion-label"))&&(o=r.innerText),[4,this.modalController.create({component:P,componentProps:{formatOptions:e,value:n,timezone:this._value?this._value.timezone:void 0===this._value?"current"===this.defaultTimezone?i.currentTimezone():this.defaultTimezone:void 0,timezoneDisabled:this.timezoneDisabled,title:o},backdropDismiss:!0,showBackdrop:!0})]);case 1:return(a=p.sent()).present(),l=this.overlayClosed,[4,a.onDidDismiss()];case 2:return l.apply(this,[p.sent().data]),[2]}})})},e.prototype.overlayClosed=function(e){e&&(this.value=e),this.controlOnTouched&&this.controlOnTouched(),this.listItem&&(this.listItem.classList.add("item-has-focus"),this.nativeInput.nativeElement.focus())},e.prototype.writeValue=function(e){this.muteControlOnChange=!0,e instanceof Date||e instanceof s.DateTimezone||"number"==typeof e?this.value=e:this.value=void 0},e.prototype.registerOnChange=function(e){this.controlOnChange=e},e.prototype.registerOnTouched=function(e){this.controlOnTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.nativeInputFocused=function(){this.listItem&&(this.listItem.classList.contains("item-has-focus")||this.listItem.classList.add("item-has-focus"))},e.prototype.nativeInputBlured=function(){this.listItem&&this.listItem.classList.remove("item-has-focus")},e.prototype.ngOnChanges=function(e){e.displayFormat&&this.updateText(),(e.readonly||e.disabled)&&this.setupCss()},e.prototype.ngOnInit=function(){this.updateText(),this.setupCss()},e.prototype.setupCss=function(){this.listItem&&(this.listItem.classList.add("item-input"),this.readonly||this._disabled?this.listItem.classList.remove("item-interactive"):this.listItem.classList.add("item-interactive"))},e.prototype.ngAfterContentChecked=function(){},h([t.ViewChild("nativeInput",{read:t.ElementRef,static:!0}),g("design:type",t.ElementRef)],e.prototype,"nativeInput",void 0),h([t.HostBinding("class.datetime-disabled"),g("design:type",Boolean)],e.prototype,"_disabled",void 0),h([t.Input(),g("design:type",Boolean)],e.prototype,"readonly",void 0),h([t.Input(),g("design:type",String)],e.prototype,"overlayTitle",void 0),h([t.Input(),g("design:type",String)],e.prototype,"placeholder",void 0),h([t.Output(),g("design:type",t.EventEmitter)],e.prototype,"ionChange",void 0),h([t.Input(),g("design:type",Boolean)],e.prototype,"timezoneDisabled",void 0),h([t.Input(),g("design:type",String)],e.prototype,"defaultTimezone",void 0),h([t.Input(),g("design:type",Object),g("design:paramtypes",[Object])],e.prototype,"disabled",null),h([t.Input(),g("design:type",Object),g("design:paramtypes",[Object])],e.prototype,"displayFormat",null),h([t.Input(),g("design:type",Object),g("design:paramtypes",[Object])],e.prototype,"pickerFormat",null),h([t.Input(),g("design:type",Object),g("design:paramtypes",[Object])],e.prototype,"value",null),h([t.HostListener("click",["$event"]),g("design:type",Function),g("design:paramtypes",[UIEvent]),g("design:returntype",void 0)],e.prototype,"clicked",null),h([t.HostListener("keyup.space"),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",void 0)],e.prototype,"keyuped",null),e=i=h([t.Component({selector:"ionx-datetime",template:'\n        <input #nativeInput\n               type="text" \n               class="native-input" \n               readonly [attr.disabled]="disabled || null"\n               [attr.placeholder]="placeholder || null"\n               [attr.value]="text || null"\n               (focus)="nativeInputFocused()" \n               (blur)="nativeInputBlured()"/>\n    ',styles:[":host{position:relative;display:block;flex:1;width:100%;--padding-end:16px;--padding-start:16px;--padding-top:10px;--padding-bottom:10px}:host .native-input{padding-top:var(--padding-top,10px);padding-bottom:var(--padding-bottom,9px);padding-left:var(--padding-start,0);padding-right:var(--padding-end,0);display:inline-block;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:0;background:0 0;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}:host .native-input::-webkit-input-placeholder{opacity:.5}:host .native-input::-moz-placeholder{opacity:.5}:host .native-input:-ms-input-placeholder{opacity:.5}:host .native-input::-ms-input-placeholder{opacity:.5}:host .native-input::placeholder{opacity:.5}:host .native-input:-webkit-autofill{background-color:transparent}:host-context(.md){--padding-bottom:11px}:host-context(.item-label-stacked){--padding-end:0px;--padding-start:0px;--padding-top:9px;--padding-bottom:9px}:host-context(.ios) .native-input{--padding-top:9px;--padding-bottom:8px}"]}),g("design:paramtypes",[t.ElementRef,a.IntlService,n.ModalController,r.NgControl])],e)}(),z=function(){function e(){}return e=h([t.NgModule({declarations:[L,P],entryComponents:[P],exports:[L],imports:[o.CommonModule,r.FormsModule,n.IonicModule,a.IntlModule,T]})],e)}(),F=Symbol(),j=Symbol(),R=function(){function e(e,n,i,o,r,a){this.injector=e,this.sanitizer=n,this.elementRef=i,this.modalController=o,this.resolver=r,this.changeDetectorRef=a,this.didLoad=new t.EventEmitter}return Object.defineProperty(e.prototype,"buttons",{get:function(){return this._buttons},set:function(e){this._buttons=e,this.changeDetectorRef.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{set:function(e){var n,i;if("string"==typeof e)this.messageText=this.sanitizer.bypassSecurityTrustHtml(e),this.messageComponent&&this.messageComponent.destroy(),this.messageComponent=void 0;else if(e){if(this.messageText=void 0,this.messageComponentContainer.clear(),!(e instanceof t.ComponentRef)){var o=void 0,r=void 0;if(Array.isArray(e)?(o=e.length>=1?e[0]:void 0,r=e.length>=2?e[1]:void 0):o=e,e=this.resolver.resolveComponentFactory(o).create(this.injector),r)try{for(var a=v(Object.keys(r)),s=a.next();!s.done;s=a.next()){var l=s.value;e.instance[l]=r[l]}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}}this.messageComponent=e,this.messageComponent.instance[j]=this,this.messageComponentContainer.insert(this.messageComponent.hostView)}},enumerable:!0,configurable:!0}),e.prototype.buttonClicked=function(e){var t=this.messageComponent&&this.messageComponent.instance[F]?this.messageComponent.instance[F]():void 0;if(e.handler){var n=e.handler(t);("boolean"==typeof n&&n||"boolean"!=typeof n)&&this.modalController.dismiss(t,e.role)}else this.modalController.dismiss("cancel"!==e.role?t:void 0,e.role)},e.prototype.ngOnDestroy=function(){this.messageComponent&&(this.messageComponent.instance[j]=void 0,this.messageComponent.destroy())},e.prototype.ngOnInit=function(){var e=this.elementRef.nativeElement.closest("ion-modal");e.style.setProperty("--width","300px"),e.style.setProperty("--height","auto"),e.style.setProperty("--max-width","90%"),e.style.setProperty("--max-height","90%"),document.querySelector("html.ios")?e.style.setProperty("--border-radius","10px"):(e.style.setProperty("--border-radius","4px"),e.style.setProperty("--box-shadow","0 28px 48px rgba(0,0,0,0.4)"))},e.prototype.ionViewDidEnter=function(){var e=this.elementRef.nativeElement.querySelector("input");e&&e.focus()},h([t.ViewChild("messageComponentContainer",{read:t.ViewContainerRef,static:!0}),g("design:type",t.ViewContainerRef)],e.prototype,"messageComponentContainer",void 0),h([t.Input(),g("design:type",String)],e.prototype,"header",void 0),h([t.Input(),g("design:type",Array),g("design:paramtypes",[Array])],e.prototype,"buttons",null),h([t.Input(),g("design:type",Object),g("design:paramtypes",[Object])],e.prototype,"message",null),e=h([t.Component({selector:"ionx-dialog",changeDetection:t.ChangeDetectionStrategy.OnPush,template:'<div ionx--content>\n\n    <div ionx--header *ngIf="!!header">{{header}}</div>\n\n    <div ionx--message>\n\n        <div [innerHTML]="messageText" *ngIf="!!messageText"></div>\n\n        <ng-template #messageComponentContainer></ng-template>\n\n    </div>\n\n</div>\n\n<ion-footer *ngIf="_buttons && _buttons.length > 0">\n    <ion-toolbar>\n        <ionx-buttons>\n\n            <ion-button fill="clear" [color]="button.color || \'primary\'" [size]="button.size" (click)="buttonClicked(button)" *ngFor="let button of _buttons">\n                <span>{{button.text}}</span>\n            </ion-button>\n\n        </ionx-buttons>\n    </ion-toolbar>\n</ion-footer>\n',styles:[":host-context(.md){--ionx--message-font-size:16px;--ionx--header-font-size:20px;--ionx--text-align:left}:host-context(.ios){--ionx--message-font-size:15px;--ionx--header-font-size:18px;--ionx--text-align:center;--ionx--buttons-align:center;--ionx--header-font-weight:600}:host{display:flex;contain:content;position:relative}:host [ionx--message]{font-size:var(--ionx--message-font-size);text-align:var(--ionx--text-align);margin:16px 16px 24px}:host [ionx--header]{font-size:var(--ionx--header-font-size);font-weight:var(--ionx--header-font-weight,500);margin:16px;text-align:var(--ionx--text-align)}:host ion-footer ion-toolbar{--padding-start:0px;--padding-end:0px;--padding-top:0px;--padding-bottom:0px;--min-height:none}:host ion-footer ionx-buttons{justify-content:var(--ionx--buttons-align,flex-end)}:host ion-footer ion-button{min-height:44px}:host ion-footer ion-button:not(:last-child){font-weight:400}:host ion-footer ion-button:last-child{font-weight:600}:host-context(.md) ion-footer ion-toolbar{--padding-bottom:8px}:host-context(.md) ion-footer::before{display:none}:host-context(.ios) ion-footer ion-button{flex:1}:host-context(.ios) ion-footer ion-button:not(:first-child){border-left:.55px solid var(--ion-toolbar-border-color,var(--ion-border-color,var(--ion-color-step-150,rgba(0,0,0,.2))))}"]}),g("design:paramtypes",[t.Injector,l.DomSanitizer,t.ElementRef,n.ModalController,t.ComponentFactoryResolver,t.ChangeDetectorRef])],e)}(),B=function(){function e(e){this.modalController=e}return e.prototype.create=function(e){return f(this,void 0,void 0,function(){return y(this,function(t){return[2,this.modalController.create(Object.assign({},e,{component:R,componentProps:{header:e.header,message:e.message,buttons:e.buttons}}))]})})},e.prototype.dismiss=function(e,t,n){return this.modalController.dismiss(e,t,n)},e=h([t.Injectable(),g("design:paramtypes",[n.ModalController])],e)}(),H=function(){function e(){}return e=h([t.NgModule({declarations:[R],imports:[a.IntlModule,n.IonicModule,o.CommonModule,C],entryComponents:[R],providers:[B]})],e)}(),U=function(){function e(){}return e=h([t.Component({template:"",styles:[":host{display:none}::ng-deep ion-searchbar.ionx-expanding-searchbar{position:absolute;top:0;left:0;width:0;overflow:hidden;padding:0;margin:0}::ng-deep ion-searchbar.ionx-expanding-searchbar.ionx-expanding-searchbar-expanded{opacity:1;width:100%}::ng-deep ion-searchbar.ionx-expanding-searchbar:not(.searchbar-show-cancel) .searchbar-clear-button{display:block!important}::ng-deep ion-toolbar ion-searchbar.ionx-expanding-searchbar-expanded{padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);padding-left:var(--padding-start);padding-right:var(--padding-end)}::ng-deep .ios ion-toolbar ion-searchbar.ionx-expanding-searchbar{height:100%}::ng-deep .ios ion-toolbar ion-searchbar.ionx-expanding-searchbar.ionx-expanding-searchbar-expanded{padding-left:16px;padding-right:16px}::ng-deep .ios ion-toolbar ion-searchbar.ionx-expanding-searchbar.ionx-expanding-searchbar-expanded[ionx-flat]{padding-left:8px;padding-right:8px}::ng-deep .ios ion-searchbar.ionx-expanding-searchbar{height:36px}::ng-deep .md ion-toolbar ion-searchbar.ionx-expanding-searchbar{height:100%}::ng-deep .md ion-toolbar ion-searchbar.ionx-expanding-searchbar.ionx-expanding-searchbar-expanded{padding-left:16px;padding-right:16px}::ng-deep .md ion-toolbar ion-searchbar.ionx-expanding-searchbar.ionx-expanding-searchbar-expanded[ionx-flat]{padding-left:0;padding-right:0}::ng-deep .ionx-expanding-searchbar-parent>:not(.ionx-expanding-searchbar){visibility:hidden!important}"]})],e)}(),N="ionx-expanding-searchbar-expanded",q=!1,Y=function(){function e(e,t,n,i,o){if(this.appRef=n,this.element=i,this.searchbar=o,this.subscriptions=[],!q){var r=t.resolveComponentFactory(U).create(e);this.appRef.attachView(r.hostView)}}return Object.defineProperty(e.prototype,"parentElement",{get:function(){var e=this.element.nativeElement.parentElement;if(e)return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expanded",{get:function(){return this.element.nativeElement.classList.contains(N)},set:function(e){var t=this;this.parentElement,e?(this.element.nativeElement.classList.add(N),this.parentElement.classList.add("ionx-expanding-searchbar-parent"),this.searchbar.setFocus()):(this.element.nativeElement.classList.remove(N),this.parentElement.classList.remove("ionx-expanding-searchbar-parent"),setTimeout(function(){return t.element.nativeElement.querySelector(".searchbar-input").blur()},50))},enumerable:!0,configurable:!0}),e.prototype.expand=function(){this.expanded=!0},e.prototype.collapseIfPossible=function(e){var t=this;!this.expanded||!e&&this.searchbar.value||setTimeout(function(){t.expanded=!1},e?250:0)},e.prototype.ngOnInit=function(){var e=this;this.subscriptions.push(this.searchbar.ionClear.subscribe(function(){return e.collapseIfPossible(!0)})),this.element.nativeElement.classList.add("ionx-expanding-searchbar")},e.prototype.ngOnDestroy=function(){p.unsubscribe(this.subscriptions)},h([t.Input("ionx-expanded"),g("design:type",Boolean),g("design:paramtypes",[Boolean])],e.prototype,"expanded",null),e=h([t.Directive({selector:"ion-searchbar[ionx-expanding-searchbar]",exportAs:"ionxExpandingSearchbar"}),g("design:paramtypes",[t.Injector,t.ComponentFactoryResolver,t.ApplicationRef,t.ElementRef,n.IonSearchbar])],e)}(),G=function(){function e(){}return e=h([t.NgModule({declarations:[Y,U],exports:[Y],imports:[n.IonicModule]})],e)}(),K=function(){function e(){}return h([t.HostBinding("attr.sticky"),t.Input(),g("design:type",Boolean)],e.prototype,"sticky",void 0),e=h([t.Component({selector:"ionx-form-heading",template:'\n        <ng-content select="ion-item"></ng-content>\n        <div ionx--under>\n            <ng-content></ng-content>\n        </div>\n    ',styles:[":host{display:block;margin-top:16px}:host ::ng-deep ion-item{--padding-start:0px;--padding-end:0px;--inner-padding-end:16px;--inner-padding-start:16px}:host ::ng-deep ion-item>ion-label{font-size:.9rem;font-weight:500}:host [ionx--under]:not(:empty){padding:8px 16px}:host[sticky]:not([sticky=false]){position:-webkit-sticky;position:sticky;top:0;z-index:3}:host-context(ion-grid) ::ng-deep ion-item{--padding-start:8px;--padding-end:8px;--inner-padding-end:0px;--inner-padding-start:0px}:host-context(ion-grid) [ionx--under]:not(:empty){padding:8px}:host-context(.ios) ::ng-deep ion-item.item-label>ion-label{font-size:.8rem;letter-spacing:1px;text-transform:uppercase}"]}),g("design:paramtypes",[])],e)}();function W(e,t){var n=function e(t){if(t){if(t.scrollHeight>=t.clientHeight){var n=window.getComputedStyle(t).overflowY;if("visible"!==n&&"hidden"!==n)return t}if(t.assignedSlot){var i=e(t.assignedSlot.parentElement);if(i)return i}return e(t.parentElement)}}(e);if(n){var i=e.offsetTop;if(e.offsetParent)for(var o=e.offsetParent;o!==n&&o;)i+=o.offsetTop,o=o.offsetParent;n.scrollTo({top:i,behavior:t})}else e.scrollIntoView()}var $=function(){function e(e,t,n){this.element=e,this.ngForm=t,this.formGroupDirective=n}return Object.defineProperty(e.prototype,"readonly",{get:function(){return this.element.nativeElement.hasAttribute("readonly")},set:function(e){e?this.element.nativeElement.setAttribute("readonly",""):this.element.nativeElement.removeAttribute("readonly")},enumerable:!0,configurable:!0}),e.prototype.markAsReadonly=function(){this.readonly=!0},Object.defineProperty(e.prototype,"busy",{get:function(){return this.element.nativeElement.hasAttribute("busy")},set:function(e){e?this.element.nativeElement.setAttribute("busy",""):this.element.nativeElement.removeAttribute("busy")},enumerable:!0,configurable:!0}),e.prototype.markAsBusy=function(){this.busy=!0},e.prototype.formControlName=function(e){var t,n;try{for(var i=v(this.contentControls.toArray()),o=i.next();!o.done;o=i.next()){var r=o.value;if(r.name==e)return r}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},Object.defineProperty(e.prototype,"formGroup",{get:function(){return this.formGroupDirective?this.formGroupDirective.form:void 0},enumerable:!0,configurable:!0}),e.prototype.validateAll=function(e){var t,n;if(void 0===e&&(e="touched"),this.formGroupDirective){for(var i in this.formGroup.controls){var o=this.formGroup.controls[i];"touched"==e&&o.markAsTouched(),"dirty"==e&&o.markAsDirty(),o.updateValueAndValidity()}try{for(var r=v(this.contentControls.toArray()),a=r.next();!a.done;a=r.next()){if(!(o=a.value).valid){this.focusImpl(o);break}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.focusImpl=function(e,n){var i,o,a;if(void 0===n&&(n=!0),"string"==typeof e&&this.formGroupDirective)try{for(var s=v(this.formGroupDirective.directives),l=s.next();!l.done;l=s.next()){var p=l.value;if(p.name==e){e=p;break}}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}if(e instanceof r.FormControlName&&(e=e.valueAccessor),e.el instanceof t.ElementRef&&(a=e.el.nativeElement),e._elementRef instanceof t.ElementRef&&(a=e._elementRef.nativeElement),a)if(a.setFocus)a.setFocus();else{var c=a,d=a.shadowRoot&&a.shadowRoot.querySelector(".native-input")||a.querySelector(".native-input");d&&(c=d),c.focus()}n&&a&&W(a.closest("ion-item")||a)},e.prototype.focus=function(e,t){void 0===t&&(t=!0),this.focusImpl(e,t)},h([t.Input(),g("design:type",Boolean),g("design:paramtypes",[Boolean])],e.prototype,"readonly",null),h([t.Input(),g("design:type",Boolean),g("design:paramtypes",[Boolean])],e.prototype,"busy",null),h([t.ContentChildren(r.FormControlName,{descendants:!0}),g("design:type",t.QueryList)],e.prototype,"contentControls",void 0),e=h([t.Directive({selector:"[ionx-form-helper], [ionxFormHelper]",exportAs:"ionxFormHelper"}),m(1,t.Optional()),m(2,t.Optional()),g("design:paramtypes",[t.ElementRef,r.NgForm,r.FormGroupDirective])],e)}(),Z=function(){function e(){}return e=h([t.Component({selector:"ionx-form-item",template:'<ng-content select="ion-item"></ng-content><ng-content select="ionx-form-item-error"></ng-content><ng-content select="ionx-form-item-hint"></ng-content><ng-content></ng-content>'})],e)}(),J=function(){function e(e){this.formGroup=e,this.markedAs="touched"}return Object.defineProperty(e.prototype,"control",{set:function(e){e instanceof r.AbstractControl?this._control=e:e&&(this._control=this.formGroup.form.controls[e])},enumerable:!0,configurable:!0}),h([t.Input(),g("design:type",String)],e.prototype,"icon",void 0),h([t.Input(),g("design:type",String)],e.prototype,"markedAs",void 0),h([t.Input(),g("design:type",Object),g("design:paramtypes",[Object])],e.prototype,"control",null),e=h([t.Component({selector:"ionx-form-item-error",template:'\n        <ion-icon [name]="icon" *ngIf="!!icon"></ion-icon>\n        <label>\n            <ng-template [ngIf]="_control">{{_control | intlValidationErrorMessage}}</ng-template>\n            <ng-content></ng-content>\n        </label>\n    ',host:{"[class.ionx--visible]":"!_control || !!(_control.invalid && _control[markedAs])"},styles:[":host{display:flex;align-items:center;margin:8px 0 0}:host>label{flex:1;font-size:smaller}:host>ion-icon{margin-top:0!important;margin-right:8px;min-height:initial;width:16px}",":host{color:var(--ion-color-danger);display:none}:host.ionx--visible{display:flex}"]}),g("design:paramtypes",[r.FormGroupDirective])],e)}(),Q=function(){function e(){}return Object.defineProperty(e.prototype,"label",{set:function(e){this.labelComponentContainer.clear(),this.labelComponentContainer.insert(e.hostView)},enumerable:!0,configurable:!0}),h([t.Input(),g("design:type",String)],e.prototype,"icon",void 0),h([t.ViewChild("labelComponentContainer",{read:t.ViewContainerRef,static:!0}),g("design:type",t.ViewContainerRef)],e.prototype,"labelComponentContainer",void 0),h([t.Input(),g("design:type",t.ComponentRef),g("design:paramtypes",[t.ComponentRef])],e.prototype,"label",null),e=h([t.Component({selector:"ionx-form-item-hint",template:'\n        <ion-icon [name]="icon" *ngIf="icon"></ion-icon>\n        <label>\n            <template #labelComponentContainer></template>\n            <ng-content></ng-content>\n        </label>\n    ',styles:[":host{display:flex;align-items:center;margin:8px 0 0}:host>label{flex:1;font-size:smaller}:host>ion-icon{margin-top:0!important;margin-right:8px;min-height:initial;width:16px}",":host{color:var(--ion-color-medium)}"]}),g("design:paramtypes",[])],e)}(),X=function(){function e(){}return e=h([t.NgModule({declarations:[Z,K,J,Q,$],imports:[o.CommonModule,r.FormsModule,n.IonicModule,a.IntlModule,c.MatchMediaModule],exports:[Z,J,Q,K,$]})],e)}(),ee={selector:"img",container:window,scroll:null,threshold:300,throttle:150,dataSrc:"original",dataSrcSet:"original-set",dataAlternate:"alternate",classLoading:"ionx-lazy-image-loading",classLoaded:"ionx-lazy-image-loaded",skipInvisible:!0,callbackLoad:null,callbackError:null,callbackSet:null,callbackProcessed:null};function te(e,t,n){var i,o,r;function a(){return window.innerWidth||i.documentElement.clientWidth||document.body.clientWidth}function s(e){return e.getBoundingClientRect().top+o-i.documentElement.clientTop}function l(e){return e.getBoundingClientRect().left+r-i.documentElement.clientLeft}return i=e.ownerDocument,o=window.pageYOffset||i.body.scrollTop,r=window.pageXOffset||i.body.scrollLeft,!((t===window?(window.innerHeight||i.documentElement.clientHeight||document.body.clientHeight)+o:s(t)+t.offsetHeight)<=s(e)-n||(t===window?o:s(t))>=s(e)+n+e.offsetHeight||(t===window?a()+window.pageXOffset:l(t)+a())<=l(e)-n||(t===window?r:l(t))>=l(e)+n+e.offsetWidth)}function ne(){return(new Date).getTime()}function ie(e,t){return function(){return e.apply(t,arguments)}}var oe=0,re={},ae=function(){function e(e){this.id=++oe+"",re[this.id]=this,this._options=Object.assign({},ee,e),this._queryOriginNode=this._options.container===window?document:this._options.container,this._previousLoopTime=0,this._loopTimeout=null,this._handleScrollFn=ie(this.handleScroll,this),window.addEventListener("resize",this._handleScrollFn),this.update()}return Object.defineProperty(e.prototype,"container",{get:function(){return this._queryOriginNode},enumerable:!0,configurable:!0}),e.prototype._showOnAppear=function(e){var t=this,n=function(){var o=e;e.__ionxLazyImageTmpImg&&(o=e.__ionxLazyImageTmpImg);var r=t._options.dataAlternate&&e.getAttribute("data-"+t._options.dataAlternate);r&&o.src!=r?o.src=r:(delete e.__ionxLazyImageTmpImg,o.removeEventListener("load",i),o.removeEventListener("error",n),e.classList.remove(t._options.classLoading),e.lazyLoadError=!0,t._options.callbackError&&t._options.callbackError.callback_error(e))},i=function(){if(null!==t._options){var o=e;e.__ionxLazyImageTmpImg&&(o=e.__ionxLazyImageTmpImg,e.style.backgroundImage="url("+o.src+")",delete e.__ionxLazyImageTmpImg),e.lazyLoadError=!1,t._options.callbackLoad&&t._options.callbackLoad(e),e.classList.remove(t._options.classLoading),e.classList.add(t._options.classLoaded),o.removeEventListener("load",i),o.removeEventListener("error",n)}};if(e.classList.add(this._options.classLoading),"IMG"===e.tagName.toUpperCase()||"IFRAME"===e.tagName.toUpperCase())e.addEventListener("load",i),e.addEventListener("error",n);else{var o=new Image;o.addEventListener("load",i),o.addEventListener("error",n),e.__ionxLazyImageTmpImg=o}!function(e,t,n){var i=e.tagName.toUpperCase(),o=e.getAttribute("data-"+n);if("IFRAME"!==i){"IMG"===i&&function(e,t){var n=e.parentElement;if("PICTURE"===n.tagName)for(var i=0;i<n.children.length;i++){var o=n.children[i];if("SOURCE"===o.tagName){var r=o.getAttribute("data-"+t);r&&o.setAttribute("srcset",r)}}}(e,t);var r=e;e.__ionxLazyImageTmpImg&&(r=e.__ionxLazyImageTmpImg);var a=e.getAttribute("data-"+t);return a&&r.setAttribute("srcset",a),void(o&&r.setAttribute("src",o))}o&&e.setAttribute("src",o)}(e,this._options.dataSrcSet,this._options.dataSrc),this._options.callbackSet&&this._options.callbackSet(e)},e.prototype._loopThroughElements=function(){for(var e=this._elements?this._elements.length:0,t=[],n=0;n<e;n++){var i=this._elements[n];this._options.skipInvisible&&null===i.offsetParent||te(i,this._options.container,this._options.threshold)&&(this._showOnAppear(i),t.push(n),i.lazyLoadProcessed=!0)}for(;t.length>0;)this._elements.splice(t.pop(),1),this._options.callbackProcessed&&this._options.callbackProcessed(this._elements.length);0===e&&this._stopScrollHandler()},e.prototype._purgeElements=function(){for(var e=[],t=0;t<this._elements.length;t++){this._elements[t].lazyLoadProcessed&&e.push(t)}for(;e.length>0;)this._elements.splice(e.pop(),1)},e.prototype._startScrollHandler=function(){this._isHandlingScroll||(this._isHandlingScroll=!0,this._options.container.addEventListener("scroll",this._handleScrollFn),this._options.scroll&&this._options.scroll.addEventListener("scroll",this._handleScrollFn))},e.prototype._stopScrollHandler=function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,this._options.container.removeEventListener("scroll",this._handleScrollFn),this._options.scroll&&this._options.scroll.removeEventListener("scroll",this._handleScrollFn))},e.prototype.handleScroll=function(){var e,t,n;this._options&&(t=ne(),0!==(n=this._options.throttle)?(e=n-(t-this._previousLoopTime))<=0||e>n?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=t,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(ie(function(){this._previousLoopTime=ne(),this._loopTimeout=null,this._loopThroughElements()},this),e)):this._loopThroughElements())},e.prototype.update=function(e){var t,n,i;if(this._elements=(i=this._queryOriginNode.querySelectorAll(this._options.selector),Array.prototype.slice.call(i)),e&&e.retryError)try{for(var o=v(this._elements),r=o.next();!r.done;r=o.next()){var a=r.value;a.lazyLoadProcessed&&a.lazyLoadError&&(a.lazyLoadProcessed=!1)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}this._purgeElements(),this._loopThroughElements(),this._startScrollHandler()},e.prototype.destroy=function(){window.removeEventListener("resize",this._handleScrollFn),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._options=null,delete re[this.id]},e}();function se(e,t){return f(this,void 0,void 0,function(){var n,i,o,r;return y(this,function(a){for(n in re)if(i=re[n],o=i.container,e===o)i.update({retryError:t&&t.retryError});else{for(r=o.parentElement;r&&r!==e;)r=r.parentElement;r&&i.update({retryError:t&&t.retryError})}return[2]})})}var le=function(){function e(e){this.element=e}return Object.defineProperty(e.prototype,"src",{get:function(){return this._src},set:function(e){var t=this._src;this._src=e,t!=this._src&&this.reload()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"src2",{set:function(e){this.src=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alternate",{set:function(e){var t=this._alternate;this._alternate=e,t!=this._alternate&&this.reload()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alternate2",{set:function(e){this.alternate=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClasses",{set:function(e){this._cssClasses=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClasses2",{set:function(e){this._cssClasses=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClassesTarget",{set:function(e){this._cssClassesTarget=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClassesParent",{set:function(e){this._cssClassesTarget=e},enumerable:!0,configurable:!0}),e.prototype.reload=function(){if(!this.loading&&this.initialized){if(this.loaded=!1,this.error=!1,this._cssClasses){var e=this._cssClassesTarget?this.element.nativeElement.closest(this._cssClassesTarget):this.element.nativeElement;this._cssClasses.loaded&&e.classList.remove(this._cssClasses.loaded),this._cssClasses.error&&e.classList.remove(this._cssClasses.error)}this.load()}},e.prototype.load=function(){var e=this;if(!this.loaded&&!this.error&&this._src&&!this.loading){this.loading=!0,this._cssClasses&&this._cssClasses.loading&&this.element.nativeElement.classList.add(this._cssClasses.loading);var t,n=this.element.nativeElement;(t="img"!=n.tagName.toLowerCase()?this.tmpImg=new Image:n).onload=function(){if(t!==n&&(n.style.backgroundImage="url("+t.src+")"),t.onerror=void 0,t.onload=void 0,e.tmpImg=void 0,e.loaded=!0,e.loading=!1,e.error=!1,e._cssClasses){var i=e._cssClassesTarget?n.closest(e._cssClassesTarget):n;e._cssClasses.loading&&i.classList.remove(e._cssClasses.loading),e._cssClasses.loaded&&i.classList.add(e._cssClasses.loaded)}},t.onerror=function(){if(e._alternate&&e._alternate!=t.src)t.src=e._alternate;else if(t.onerror=void 0,t.onload=void 0,e.tmpImg=void 0,e.loading=!1,e.loaded=!1,e.error=!0,e._cssClasses){var i=e._cssClassesTarget?n.closest(e._cssClassesTarget):n;e._cssClasses.loading&&i.classList.remove(e._cssClasses.loading),e._cssClasses.error&&i.classList.add(e._cssClasses.error)}},t.src=this._src}},e.prototype.ngAfterViewInit=function(){this.initialized=!0,this.element.nativeElement.ionxImageLoader=this,this.load()},e.prototype.ngOnDestroy=function(){this.element.nativeElement&&delete this.element.nativeElement.ionxImageLoader},h([t.Input("src"),g("design:type",String),g("design:paramtypes",[String])],e.prototype,"src",null),h([t.Input("ionx-image-loader"),g("design:type",String),g("design:paramtypes",[String])],e.prototype,"src2",null),h([t.Input("alternate"),g("design:type",String),g("design:paramtypes",[String])],e.prototype,"alternate",null),h([t.Input("ionx-image-loader-alternate"),g("design:type",String),g("design:paramtypes",[String])],e.prototype,"alternate2",null),h([t.Input("css-classes"),g("design:type",Object),g("design:paramtypes",[Object])],e.prototype,"cssClasses",null),h([t.Input("ionx-image-loader-css-classes"),g("design:type",Object),g("design:paramtypes",[Object])],e.prototype,"cssClasses2",null),h([t.Input("css-classes-target"),g("design:type",String),g("design:paramtypes",[String])],e.prototype,"cssClassesTarget",null),h([t.Input("ionx-image-loader-css-classes-target"),g("design:type",String),g("design:paramtypes",[String])],e.prototype,"cssClassesParent",null),e=h([t.Directive({selector:"[ionx-image-loader]",host:{"[attr.ionx-image-loader]":"true"}}),g("design:paramtypes",[t.ElementRef])],e)}();var pe=function(){function e(){}return e=h([t.NgModule({declarations:[le],exports:[le]})],e)}();n.IonBackButtonDelegate.prototype.onClick=function(){return null};var ce=function(){function e(e,t,n,i){this.router=e,this.routerOutlet=t,this.navCtrl=n,this.elementRef=i}return Object.defineProperty(e.prototype,"defaultHref",{get:function(){return this.elementRef.nativeElement.defaultHref},set:function(e){this.elementRef.nativeElement.defaultHref=e},enumerable:!0,configurable:!0}),e.prototype.onClick=function(e){this.routerOutlet&&this.routerOutlet.canGoBack()?(this.navCtrl.back({animated:!0}),e.preventDefault()):this.router&&null!=this.defaultHref&&(this.navCtrl.navigateBack(this.defaultHref),e.preventDefault())},h([t.Input(),g("design:type",String),g("design:paramtypes",[String])],e.prototype,"defaultHref",null),h([t.HostListener("click",["$event"]),g("design:type",Function),g("design:paramtypes",[Event]),g("design:returntype",void 0)],e.prototype,"onClick",null),e=h([t.Directive({selector:"ion-back-button"}),g("design:paramtypes",[d.Router,n.IonRouterOutlet,n.NavController,t.ElementRef])],e)}(),de=function(){function e(e){this.element=e}return e.prototype.ngAfterViewInit=function(){return f(this,void 0,void 0,function(){var e=this;return y(this,function(t){switch(t.label){case 0:return this.tabIndex?(this.element.nativeElement.removeAttribute("tabIndex"),[4,s.waitTill(function(){return!!e.element.nativeElement.shadowRoot&&!!e.element.nativeElement.shadowRoot.querySelector(".native-input")})]):[3,2];case 1:t.sent(),this.element.nativeElement.shadowRoot.querySelector(".native-input").setAttribute("tabIndex",this.tabIndex),t.label=2;case 2:return[2]}})})},h([t.Input("tabIndex"),g("design:type",String)],e.prototype,"tabIndex",void 0),e=h([t.Directive({selector:"ion-input[ionfix-input]"}),g("design:paramtypes",[t.ElementRef])],e)}(),ue=function(){function e(e){this.element=e}return e.prototype.ngAfterViewInit=function(){return f(this,void 0,void 0,function(){var e,t;return y(this,function(n){switch(n.label){case 0:if(!this.target)return[3,5];e=1,n.label=1;case 1:return e<20?(t=this.element.nativeElement.shadowRoot&&this.element.nativeElement.shadowRoot.querySelector(".item-native")||void 0)?[3,3]:[4,s.sleep(100*e)]:[3,5];case 2:return n.sent(),[3,4];case 3:t.setAttribute("target",this.target),n.label=4;case 4:return e++,[3,1];case 5:return[2]}})})},h([t.Input(),g("design:type",String)],e.prototype,"target",void 0),e=h([t.Directive({selector:"ion-item[target]"}),g("design:paramtypes",[t.ElementRef])],e)}(),he=function(){function e(){}return e=h([t.NgModule({declarations:[de,ce,ue],exports:[de,ce,ue]})],e)}(),me=function(){function e(e,t,n){this.element=e,this.renderer=t,this.container=n}var n;return n=e,Object.defineProperty(e.prototype,"src",{set:function(e){this._src=e,this.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alternate",{set:function(e){this._alternate=e,this.reset()},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this._src&&(this.renderer.setElementClass(this.element.nativeElement,"ionx-lazy-image",!0),this.renderer.setElementAttribute(this.element.nativeElement,"data-original",this._src)),this._alternate&&this.renderer.setElementAttribute(this.element.nativeElement,"data-alternate",this._alternate)},e.prototype.revalidate=function(){this.container&&this.children.length>1&&this.container.revalidate()},e.prototype.ngAfterContentInit=function(){var e=this;this.children.changes.subscribe(function(){return e.revalidate()}),this.revalidate()},h([t.ContentChildren(n,{descendants:!0}),g("design:type",t.QueryList)],e.prototype,"children",void 0),h([t.Input("ionx-lazy-image"),g("design:type",String),g("design:paramtypes",[String])],e.prototype,"src",null),h([t.Input("ionx-lazy-image-alternate"),g("design:type",String),g("design:paramtypes",[String])],e.prototype,"alternate",null),e=n=h([t.Directive({selector:"[ionx-lazy-image]"}),m(2,t.Optional()),m(2,t.Inject(t.forwardRef(function(){return ge}))),g("design:paramtypes",[t.ElementRef,t.Renderer,ge])],e)}(),ge=function(){function e(e){this.element=e}return e.prototype.revalidate=function(){if(this.lazyLoad){this.lazyLoad.update();var e=this.element.nativeElement.getBoundingClientRect();0==e.width||e.height}},e.prototype.ngOnInit=function(){this.initLazyLoad()},e.prototype.ngAfterContentInit=function(){var e=this;this.children.changes.subscribe(function(){return e.revalidate()}),this.children.length>0&&this.revalidate()},e.prototype.ngOnDestroy=function(){this.lazyLoad&&this.lazyLoad.destroy()},e.prototype.initLazyLoad=function(){return f(this,void 0,void 0,function(){var e,t;return y(this,function(n){switch(n.label){case 0:if((e={}).selector=".ionx-lazy-image",e.container=this.element.nativeElement,"ion-content"!==this.element.nativeElement.tagName.toLowerCase())return[3,5];t=0,n.label=1;case 1:return t<40?(e.scroll=this.element.nativeElement.shadowRoot&&this.element.nativeElement.shadowRoot.querySelector(".inner-scroll"),e.scroll?[3,3]:[4,s.sleep(50)]):[3,5];case 2:return n.sent(),[3,4];case 3:return[3,5];case 4:return t++,[3,1];case 5:return this.lazyLoad=new ae(e),[2]}})})},h([t.ContentChildren(me,{descendants:!0}),g("design:type",t.QueryList)],e.prototype,"children",void 0),e=h([t.Directive({selector:"ion-content[ionx-lazy-image], [ionx-lazy-image-container]"}),g("design:paramtypes",[t.ElementRef])],e)}(),fe=function(){function e(){}return e=h([t.NgModule({declarations:[me,ge],exports:[me,ge]})],e)}(),ye=function(){function e(e){this.elementRef=e,this.progressType="determinate",this.progressValue=0,this.progressBuffer=0}return Object.defineProperty(e.prototype,"progressPercentVisible",{get:function(){return"number"==typeof this.progressPercent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spinnerMode",{get:function(){return"spinner"===this.mode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"progressMode",{get:function(){return"progress"===this.mode},enumerable:!0,configurable:!0}),e.prototype.dismiss=function(){return this.popover.dismiss()},e.prototype.ngOnInit=function(){this.popover=this.elementRef.nativeElement.closest("ion-popover"),this.instanceCallback&&this.instanceCallback(this)},e.prototype.ngOnDestroy=function(){this.popover=void 0,this.instanceCallback=void 0},h([t.Input(),g("design:type",Function)],e.prototype,"instanceCallback",void 0),h([t.Input(),g("design:type",String)],e.prototype,"header",void 0),h([t.Input(),g("design:type",String)],e.prototype,"message",void 0),h([t.Input(),g("design:type",String)],e.prototype,"mode",void 0),h([t.Input(),g("design:type",String)],e.prototype,"progressMessage",void 0),h([t.Input(),g("design:type",String)],e.prototype,"progressType",void 0),h([t.Input(),g("design:type",Number)],e.prototype,"progressValue",void 0),h([t.Input(),g("design:type",Number)],e.prototype,"progressBuffer",void 0),h([t.Input(),g("design:type",Number)],e.prototype,"progressPercent",void 0),e=h([t.Component({selector:"ionx-loader",template:'<div style="display: flex; align-items: center">\n\n    <div *ngIf="spinnerMode" style="padding: 16px; padding-right: 0px;">\n        <ion-spinner></ion-spinner>\n    </div>\n\n    <div style="padding: 16px; flex: 1; display: flex; flex-direction: column; justify-items: center;">\n        <h5 style="margin: 0px" *ngIf="header">{{header}}</h5>\n        <ion-text [innerHTML]="message" *ngIf="!!message"></ion-text>\n    </div>\n\n</div>\n\n<ion-progress-bar style="margin: 16px 0px" [value]="progressValue" [type]="progressType" [buffer]="progressBuffer" *ngIf="progressMode"></ion-progress-bar>\n\n<div style="display: flex; margin: 0px 16px 16px 16px" *ngIf="!!progressMessage || progressPercentVisible">\n    <ion-text [innerHTML]="progressMessage" style="flex: 1"></ion-text>\n    <span style="width: 60px; text-align: right" *ngIf="progressPercentVisible">{{(progressPercent | intlPercentFormat: {maximumFractionDigits: 0})}}</span>\n</div>\n',styles:[":host { display: block }"]}),g("design:paramtypes",[t.ElementRef])],e)}(),ve=function(){function e(e){this.popoverController=e}return e.prototype.present=function(e){return f(this,void 0,void 0,function(){var t,n;return y(this,function(i){switch(i.label){case 0:return n=function(e){return t=e},[4,this.popoverController.create({animated:!1,cssClass:"ionx-popover-flex",backdropDismiss:!1,keyboardClose:!1,component:ye,componentProps:{instanceCallback:function(e){return n(e)},header:e.header,message:e.message,mode:e.mode||"spinner"}})];case 1:return i.sent().present(),[4,s.waitTill(function(){return!!t})];case 2:return i.sent(),[2,t]}})})},e=h([t.Injectable(),g("design:paramtypes",[n.PopoverController])],e)}(),be=function(){function e(){}return e=h([t.NgModule({declarations:[ye],imports:[a.IntlModule,n.IonicModule,o.CommonModule],entryComponents:[ye],providers:[ve]})],e)}(),xe=function(){function e(e){this.controller=e,this.willEnter=new t.EventEmitter,this.didEnter=new t.EventEmitter,this.didDismiss=new t.EventEmitter,this.willDismiss=new t.EventEmitter,this._presented=!1}return e.prototype.present=function(){return f(this,void 0,void 0,function(){var e;return y(this,function(t){switch(t.label){case 0:return this.modal?[2]:(e=this,[4,this.controller.create({component:Ce,componentProps:{template:this.content},backdropDismiss:this.backdropDismiss,showBackdrop:this.showBackdrop,cssClass:this.cssClass})]);case 1:return e.modal=t.sent(),this.willEnter.next(),[4,this.modal.present()];case 2:return t.sent(),this.didEnter.next(),this._presented=!0,[4,this.modal.onWillDismiss()];case 3:return t.sent()&&this.willDismiss.next(),[4,this.modal.onDidDismiss()];case 4:return t.sent()&&(this.didDismiss.next(),this.modal=void 0,this._presented=!1),[2]}})})},Object.defineProperty(e.prototype,"presented",{get:function(){return this._presented},enumerable:!0,configurable:!0}),e.prototype.dismiss=function(e,t){return this.modal?this.modal.dismiss(e,t):new Promise(function(e,t){e()})},h([t.Input(),g("design:type",String)],e.prototype,"cssClass",void 0),h([t.Input(),g("design:type",Boolean)],e.prototype,"backdropDismiss",void 0),h([t.Input(),g("design:type",Boolean)],e.prototype,"showBackdrop",void 0),h([t.ViewChild("modalContent",{static:!0}),g("design:type",t.TemplateRef)],e.prototype,"content",void 0),h([t.Output(),g("design:type",t.EventEmitter)],e.prototype,"willEnter",void 0),h([t.Output(),g("design:type",t.EventEmitter)],e.prototype,"didEnter",void 0),h([t.Output(),g("design:type",t.EventEmitter)],e.prototype,"didDismiss",void 0),h([t.Output(),g("design:type",t.EventEmitter)],e.prototype,"willDismiss",void 0),e=h([t.Component({selector:"ionx-modal-controller",template:"\n        <ng-template #modalContent>\n            <ng-content></ng-content>\n        </ng-template>\n    "}),g("design:paramtypes",[n.ModalController])],e)}(),Ce=function(){function e(){}return e.prototype.ngOnDestroy=function(){this.template=void 0},e=h([t.Component({template:'\n        <ng-container *ngTemplateOutlet="template"></ng-container>\n    '}),g("design:paramtypes",[])],e)}(),we=function(){function e(){}return e=h([t.NgModule({declarations:[xe,Ce],exports:[xe],imports:[o.CommonModule,n.IonicModule],entryComponents:[xe,Ce]})],e)}(),Ae=function(){function e(e){this.controller=e,this.willEnter=new t.EventEmitter,this.didEnter=new t.EventEmitter,this.didDismiss=new t.EventEmitter,this.willDismiss=new t.EventEmitter,this._dismissing=!1,this._presented=!1}return e.prototype.present=function(e){return f(this,void 0,void 0,function(){var t;return y(this,function(n){switch(n.label){case 0:return this.popover?[2]:(t=this,[4,this.controller.create({component:Ie,componentProps:{template:this.content},backdropDismiss:this.enableBackdropDismiss,showBackdrop:this.showBackdrop,cssClass:this.cssClass,event:e})]);case 1:return t.popover=n.sent(),this.willEnter.next(),[4,this.popover.present()];case 2:return n.sent(),this.didEnter.next(),this._presented=!0,[4,this.popover.onWillDismiss()];case 3:return n.sent()&&this.willDismiss.next(),this._dismissing=!0,[4,this.popover.onDidDismiss()];case 4:return n.sent()&&(this.didDismiss.next(),this.popover=void 0,this._presented=!1,this._dismissing=!1),[2]}})})},Object.defineProperty(e.prototype,"dismissing",{get:function(){return this._dismissing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"presented",{get:function(){return this._presented},enumerable:!0,configurable:!0}),e.prototype.dismiss=function(e,t){return this.popover?this.popover.dismiss(e,t):new Promise(function(e,t){e()})},h([t.Input(),g("design:type",String)],e.prototype,"cssClass",void 0),h([t.Input(),g("design:type",Boolean)],e.prototype,"enableBackdropDismiss",void 0),h([t.Input(),g("design:type",Boolean)],e.prototype,"showBackdrop",void 0),h([t.ViewChild("popoverContent",{static:!0}),g("design:type",t.TemplateRef)],e.prototype,"content",void 0),h([t.Output(),g("design:type",t.EventEmitter)],e.prototype,"willEnter",void 0),h([t.Output(),g("design:type",t.EventEmitter)],e.prototype,"didEnter",void 0),h([t.Output(),g("design:type",t.EventEmitter)],e.prototype,"didDismiss",void 0),h([t.Output(),g("design:type",t.EventEmitter)],e.prototype,"willDismiss",void 0),e=h([t.Component({selector:"ionx-popover-controller",encapsulation:t.ViewEncapsulation.None,template:"\n        <ng-template #popoverContent>\n            <ng-content></ng-content>\n        </ng-template>\n    "}),g("design:paramtypes",[n.PopoverController])],e)}(),Ie=function(){function e(){}return e.prototype.ngOnDestroy=function(){this.template=void 0},h([t.Input(),g("design:type",t.TemplateRef)],e.prototype,"template",void 0),e=h([t.Component({encapsulation:t.ViewEncapsulation.None,template:'\n        <ng-template [ngTemplateOutlet]="template"></ng-template>\n    '}),g("design:paramtypes",[])],e)}(),ke=function(){function e(){}return e=h([t.NgModule({declarations:[Ae,Ie],exports:[Ae],imports:[n.IonicModule,o.CommonModule],entryComponents:[Ae,Ie]})],e)}(),_e=function(){function e(e){this.element=e}return e=h([t.Component({selector:"ionx-pseudo-input",exportAs:"ionxPseudoInput",template:"<ng-content></ng-content>",styles:[":host{padding:var(--padding-top) var(--padding-end) var(--padding-bottom) var(--padding-start);display:block;overflow:hidden;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}:host-context(.item-label-stacked) ionx-pseudo-input{align-self:flex-start;--padding-start:0}:host-context(.md.item-label-stacked) ionx-pseudo-input{--padding-top:10px;--padding-bottom:9px}:host-context(.ios.item-label-stacked) ionx-pseudo-input{--padding-top:9px;--padding-bottom:8px}"]}),g("design:paramtypes",[t.ElementRef])],e)}(),Te=function(){function e(){}return e=h([t.NgModule({declarations:[_e],exports:[_e]})],e)}(),Ee=function(){function e(){this.backdropVisible=!1,this.fill=!1}return h([t.Input(),g("design:type",Boolean)],e.prototype,"backdropVisible",void 0),h([t.Input(),g("design:type",Boolean)],e.prototype,"fill",void 0),h([t.Input(),g("design:type",String)],e.prototype,"color",void 0),h([t.Input(),g("design:type",String)],e.prototype,"name",void 0),e=h([t.Component({selector:"ionx-spinner",template:'<ion-backdrop *ngIf="backdropVisible"></ion-backdrop><ion-spinner [name]="name" [color]="color"></ion-spinner>',styles:[":host{position:relative;display:flex;align-items:center;justify-content:center}:host ion-backdrop{opacity:.1}:host[fill]{position:absolute;width:100%;height:100%;left:0;top:0}:host[always-on-top]{z-index:100000}"]})],e)}(),Oe=function(){function e(){}return e=h([t.NgModule({declarations:[Ee],exports:[Ee],imports:[o.CommonModule,n.IonicModule]})],e)}(),Me=function(){function e(e){this.element=e}return e.prototype.onChange=function(){this.adjust()},Object.defineProperty(e.prototype,"textarea",{get:function(){return this.element.nativeElement.querySelector("textarea")},enumerable:!0,configurable:!0}),e.prototype.adjust=function(){var e=this.textarea;e&&(e.style.overflow="hidden",e.style.height="auto",e.style.height=e.scrollHeight+"px")},e.prototype.ngOnInit=function(){return f(this,void 0,void 0,function(){var e=this;return y(this,function(t){switch(t.label){case 0:return[4,s.waitTill(function(){return!!e.textarea})];case 1:return t.sent(),this.adjust(),[2]}})})},h([t.HostListener("ionChange"),g("design:type",Function),g("design:paramtypes",[]),g("design:returntype",void 0)],e.prototype,"onChange",null),e=h([t.Directive({selector:"ion-textarea[ionx-autosize]"}),g("design:paramtypes",[t.ElementRef])],e)}(),Ve=function(){function e(){}return e=h([t.NgModule({declarations:[Me],exports:[Me],imports:[n.IonicModule]})],e)}(),De=function(){function e(){}return e.prototype.switchOn=function(){this.toggle.checked=!0},e.prototype.switchOff=function(){this.toggle.checked=!1},h([t.Input(),g("design:type",String)],e.prototype,"on",void 0),h([t.Input(),g("design:type",String)],e.prototype,"off",void 0),h([t.ContentChild(n.IonToggle,{static:!1}),g("design:type",n.IonToggle)],e.prototype,"toggle",void 0),e=h([t.Component({selector:"ionx-toggle-labels",template:'<span ionx--off (click)="switchOff()">\n    <ng-template [ngIf]="!!off">{{off}}</ng-template>\n    <ng-content select="[slot=off]"></ng-content>\n    </span>\n\n<ng-content select="ion-toggle"></ng-content>\n\n<span ionx--on (click)="switchOn()">\n    <ng-template [ngIf]="!!on">{{on}}</ng-template>\n    <ng-content select="[slot=on]"></ng-content>\n</span>\n',styles:[":host{display:flex;align-items:center}:host ::ng-deep ion-toggle{-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px}:host [ionx--on]{cursor:pointer;margin-left:4px}:host [ionx--off]{cursor:pointer;margin-right:4px}:host-context(.item-label-stacked){align-self:flex-start}:host-context(.ios.item-label-stacked){margin-top:2px;margin-bottom:2px}"]}),g("design:paramtypes",[])],e)}(),Se=function(){function e(){}return e=h([t.NgModule({declarations:[De],exports:[De],imports:[o.CommonModule,n.IonicModule]})],e)}();e.Buttons=x,e.ButtonsModule=C,e.DateTimePickerInput=L,e.DateTimePickerModule=z,e.Dialog=R,e.DialogController=B,e.DialogModule=H,e.ExpandingSearchbar=Y,e.ExpandingSearchbarModule=G,e.FormHeading=K,e.FormHelper=$,e.FormHelperModule=X,e.FormItem=Z,e.FormItemError=J,e.FormItemHint=Q,e.ImageLoader=le,e.ImageLoaderModule=pe,e.IonicFixModule=he,e.LazyImage=me,e.LazyImageContainer=ge,e.LazyImageModule=fe,e.Loader=ye,e.LoaderModule=be,e.ModalControllerComponent=xe,e.ModalModule=we,e.PopoverControllerComponent=Ae,e.PopoverModule=ke,e.PseudoInput=_e,e.PseudoInputModule=Te,e.Select=_,e.SelectModule=T,e.SelectOption=A,e.SelectOptions=I,e.Spinner=Ee,e.SpinnerModule=Oe,e.TextareaAutosizeModule=Ve,e.ToggleLabels=De,e.ToggleLabelsModule=Se,e.dialogData=F,e.dialogInstance=j,e.ensureImagesLoaded=function(e,t){return f(this,void 0,void 0,function(){var n,i,o;return y(this,function(r){switch(r.label){case 0:for(n=e.querySelectorAll("[ionx-image-loader]"),i=0;i<n.length;i++)(o=n.item(i)).ionxImageLoader&&o.ionxImageLoader.src&&!o.ionxImageLoader.loaded&&(!o.ionxImageLoader.error||t&&t.retryError)&&o.ionxImageLoader.reload();return t&&t.lazy?[4,se(e,{retryError:t&&t.retryError})]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.ensureLazyImagesLoaded=se,e.a=Ce,e.b=Ie,e.c=P,e.d=w,e.e=k,e.f=U,e.g=de,e.h=ce,e.i=ue,e.j=ve,e.k=Me,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=co.mmons-ionic-extensions.umd.min.js.map